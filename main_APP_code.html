<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Juan Jacobo">

<title>Online Appendix for: Automation, Power, and Profit</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="main_APP_code_files/libs/clipboard/clipboard.min.js"></script>
<script src="main_APP_code_files/libs/quarto-html/quarto.js"></script>
<script src="main_APP_code_files/libs/quarto-html/popper.min.js"></script>
<script src="main_APP_code_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="main_APP_code_files/libs/quarto-html/anchor.min.js"></script>
<link href="main_APP_code_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="main_APP_code_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="main_APP_code_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="main_APP_code_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="main_APP_code_files/libs/bootstrap/bootstrap-c0367b04c37547644fece4185067e4a7.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="main_APP_code.pdf"><i class="bi bi-file-pdf"></i>Typst</a></li></ul></div></div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Online Appendix for: Automation, Power, and Profit</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Juan Jacobo <a href="mailto:juan.jacobo@uexternado.edu.co" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0001-7878-0266" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Universidad Externado de Colombia
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Abstract</div>
    This document present the code solving the steady-state equilibrium in Section 4 of Automation, Power, and Profit.
  </div>
</div>


</header>


<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>This document presents all the computational steps required to replicate the results in Section 4 of Automation, Power, and Profit. Here, I also present additional data and robustness results, showing that the key conclusions of the paper do not vary with variations on the measures of automation, normal rate of unemployment, or welfare policy.</p>
</section>
<section id="code-related-to-section-4" class="level1">
<h1>Code Related to Section 4</h1>
<p>Download the required packages. Use import Pkg; Pkg.add([“Distributions”,“XLSX”, “CairoMakie”, “LaTeXStrings”, “Makie”, “CSV”,“FileIO”]). To download HPFilter, use Pkg.add(url = “https://github.com/sdBrinkmann/HPFilter.jl”).</p>
<div id="2" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span>   <span class="bu">CairoMakie</span>,<span class="bu">LaTeXStrings</span>,<span class="bu">NLboxsolve</span>,<span class="bu">Distributions</span>,<span class="bu">HPFilter</span>,<span class="bu">XLSX</span>,<span class="bu">ReadStat</span>,<span class="bu">DataFrames</span>,<span class="bu">CSV</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>┌ Error: Error during loading of extension QuartoNotebookWorkerMakieExt of QuartoNotebookWorker, use `Base.retry_load_extensions()` to retry.
│   exception =
│    1-element ExceptionStack:
│    InitError: MethodError: no method matching isless(::Nothing, ::VersionNumber)
│    The function `isless` exists, but no method is defined for this combination of argument types.
│    
│    Closest candidates are:
│      isless(::Missing, ::Any)
│       @ Base missing.jl:87
│      isless(::Any, ::Missing)
│       @ Base missing.jl:88
│      isless(::VersionNumber, ::VersionNumber)
│       @ Base version.jl:202
│      ...
│    
│    Stacktrace:
│      [1] &lt;
│        @ ./operators.jl:353
│      [2] configure()
│        @ QuartoNotebookWorkerMakieExt ~/.julia/packages/QuartoNotebookRunner/eYIiC/src/QuartoNotebookWorker/ext/QuartoNotebookWorkerMakieExt.jl:22
│      [3] __init__()
│        @ QuartoNotebookWorkerMakieExt ~/.julia/packages/QuartoNotebookRunner/eYIiC/src/QuartoNotebookWorker/ext/QuartoNotebookWorkerMakieExt.jl:32
│      [4] run_module_init(mod::Module, i::Int64)
│        @ Base ./loading.jl:1378
│      [5] register_restored_modules(sv::Core.SimpleVector, pkg::Base.PkgId, path::String)
│        @ Base ./loading.jl:1366
│      [6] _include_from_serialized(pkg::Base.PkgId, path::String, ocachepath::String, depmods::Vector{Any}, ignore_native::Nothing; register::Bool)
│        @ Base ./loading.jl:1254
│      [7] _include_from_serialized (repeats 2 times)
│        @ ./loading.jl:1210 [inlined]
│      [8] _require_search_from_serialized(pkg::Base.PkgId, sourcepath::String, build_id::UInt128, stalecheck::Bool; reasons::Dict{String, Int64}, DEPOT_PATH::Vector{String})
│        @ Base ./loading.jl:2057
│      [9] _require(pkg::Base.PkgId, env::Nothing)
│        @ Base ./loading.jl:2527
│     [10] __require_prelocked(uuidkey::Base.PkgId, env::Nothing)
│        @ Base ./loading.jl:2388
│     [11] #invoke_in_world#3
│        @ ./essentials.jl:1089 [inlined]
│     [12] invoke_in_world
│        @ ./essentials.jl:1086 [inlined]
│     [13] _require_prelocked
│        @ ./loading.jl:2375 [inlined]
│     [14] _require_prelocked
│        @ ./loading.jl:2374 [inlined]
│     [15] run_extension_callbacks(extid::Base.ExtensionId)
│        @ Base ./loading.jl:1544
│     [16] run_extension_callbacks(pkgid::Base.PkgId)
│        @ Base ./loading.jl:1576
│     [17] run_package_callbacks(modkey::Base.PkgId)
│        @ Base ./loading.jl:1396
│     [18] _require_search_from_serialized(pkg::Base.PkgId, sourcepath::String, build_id::UInt128, stalecheck::Bool; reasons::Dict{String, Int64}, DEPOT_PATH::Vector{String})
│        @ Base ./loading.jl:2065
│     [19] _require(pkg::Base.PkgId, env::String)
│        @ Base ./loading.jl:2527
│     [20] __require_prelocked(uuidkey::Base.PkgId, env::String)
│        @ Base ./loading.jl:2388
│     [21] #invoke_in_world#3
│        @ ./essentials.jl:1089 [inlined]
│     [22] invoke_in_world
│        @ ./essentials.jl:1086 [inlined]
│     [23] _require_prelocked(uuidkey::Base.PkgId, env::String)
│        @ Base ./loading.jl:2375
│     [24] macro expansion
│        @ ./loading.jl:2314 [inlined]
│     [25] macro expansion
│        @ ./lock.jl:273 [inlined]
│     [26] __require(into::Module, mod::Symbol)
│        @ Base ./loading.jl:2271
│     [27] #invoke_in_world#3
│        @ ./essentials.jl:1089 [inlined]
│     [28] invoke_in_world
│        @ ./essentials.jl:1086 [inlined]
│     [29] require(into::Module, mod::Symbol)
│        @ Base ./loading.jl:2260
│     [30] eval
│        @ ./boot.jl:430 [inlined]
│     [31] (::QuartoNotebookWorker.var"#15#16"{Module, Expr})()
│        @ QuartoNotebookWorker ~/.julia/packages/QuartoNotebookRunner/eYIiC/src/QuartoNotebookWorker/src/render.jl:222
│     [32] (::QuartoNotebookWorker.Packages.IOCapture.var"#5#9"{DataType, QuartoNotebookWorker.var"#15#16"{Module, Expr}, IOContext{Base.PipeEndpoint}, IOContext{Base.PipeEndpoint}, IOContext{IOStream}, IOContext{Base.PipeEndpoint}})()
│        @ QuartoNotebookWorker.Packages.IOCapture ~/.julia/packages/IOCapture/Y5rEA/src/IOCapture.jl:170
│     [33] with_logstate(f::QuartoNotebookWorker.Packages.IOCapture.var"#5#9"{DataType, QuartoNotebookWorker.var"#15#16"{Module, Expr}, IOContext{Base.PipeEndpoint}, IOContext{Base.PipeEndpoint}, IOContext{IOStream}, IOContext{Base.PipeEndpoint}}, logstate::Base.CoreLogging.LogState)
│        @ Base.CoreLogging ./logging/logging.jl:522
│     [34] with_logger(f::Function, logger::Base.CoreLogging.ConsoleLogger)
│        @ Base.CoreLogging ./logging/logging.jl:632
│     [35] capture(f::QuartoNotebookWorker.var"#15#16"{Module, Expr}; rethrow::Type, color::Bool, passthrough::Bool, capture_buffer::IOBuffer, io_context::Vector{Pair{Symbol, Any}})
│        @ QuartoNotebookWorker.Packages.IOCapture ~/.julia/packages/IOCapture/Y5rEA/src/IOCapture.jl:167
│     [36] capture
│        @ ~/.julia/packages/QuartoNotebookRunner/eYIiC/src/QuartoNotebookWorker/src/render.jl:248 [inlined]
│     [37] io_capture(f::Function; cell_options::Dict{String, Any}, kws::@Kwargs{rethrow::DataType, color::Bool, io_context::Vector{Pair{Symbol, Any}}})
│        @ QuartoNotebookWorker ~/.julia/packages/QuartoNotebookRunner/eYIiC/src/QuartoNotebookWorker/src/render.jl:250
│     [38] io_capture
│        @ ~/.julia/packages/QuartoNotebookRunner/eYIiC/src/QuartoNotebookWorker/src/render.jl:246 [inlined]
│     [39] include_str(mod::Module, code::String; file::String, line::Int64, cell_options::Dict{String, Any})
│        @ QuartoNotebookWorker ~/.julia/packages/QuartoNotebookRunner/eYIiC/src/QuartoNotebookWorker/src/render.jl:201
│     [40] #invokelatest#2
│        @ ./essentials.jl:1057 [inlined]
│     [41] invokelatest
│        @ ./essentials.jl:1052 [inlined]
│     [42] #6
│        @ ~/.julia/packages/QuartoNotebookRunner/eYIiC/src/QuartoNotebookWorker/src/render.jl:18 [inlined]
│     [43] with_inline_display(f::QuartoNotebookWorker.var"#6#7"{String, String, Int64, Dict{String, Any}}, cell_options::Dict{String, Any})
│        @ QuartoNotebookWorker ~/.julia/packages/QuartoNotebookRunner/eYIiC/src/QuartoNotebookWorker/src/InlineDisplay.jl:26
│     [44] _render_thunk(thunk::Function, code::String, cell_options::Dict{String, Any}, is_expansion_ref::Base.RefValue{Bool}; inline::Bool)
│        @ QuartoNotebookWorker ~/.julia/packages/QuartoNotebookRunner/eYIiC/src/QuartoNotebookWorker/src/render.jl:43
│     [45] _render_thunk
│        @ ~/.julia/packages/QuartoNotebookRunner/eYIiC/src/QuartoNotebookWorker/src/render.jl:35 [inlined]
│     [46] #render#5
│        @ ~/.julia/packages/QuartoNotebookRunner/eYIiC/src/QuartoNotebookWorker/src/render.jl:15 [inlined]
│     [47] render(code::String, file::String, line::Int64, cell_options::Dict{String, Any})
│        @ QuartoNotebookWorker ~/.julia/packages/QuartoNotebookRunner/eYIiC/src/QuartoNotebookWorker/src/render.jl:1
│     [48] render(::String, ::Vararg{Any}; kwargs::@Kwargs{})
│        @ Main ~/.julia/packages/QuartoNotebookRunner/eYIiC/src/worker.jl:30
│     [49] top-level scope
│        @ none:1
│     [50] eval
│        @ ./boot.jl:430 [inlined]
│     [51] (::Main.var"#7#10")(chan::Channel{Any})
│        @ Main ~/.julia/packages/QuartoNotebookRunner/eYIiC/src/worker.jl:13
│    during initialization of module QuartoNotebookWorkerMakieExt
└ @ Base loading.jl:1550
WARNING: Method definition HP(Array{T, 1} where T, Int64) in module HPFilter at /Users/juanjacobo/.julia/packages/HPFilter/981TT/src/HPFilterFunc.jl:8 overwritten at /Users/juanjacobo/.julia/packages/HPFilter/981TT/src/HPFilterFunc.jl:26.
ERROR: Method overwriting is not permitted during Module precompilation. Use `__precompile__(false)` to opt-out of precompilation.</code></pre>
</div>
</div>
<p>The following code presents the definition of the parameters as in Table 1 of the main text.</p>
<section id="calibrated-parameters" class="level2">
<h2 class="anchored" data-anchor-id="calibrated-parameters">Calibrated Parameters</h2>
<div id="4" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Calibrated (static) parameters</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>α <span class="op">=</span> <span class="fl">1.64</span> <span class="co"># labor augmenting parameter</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>σ<span class="op">=</span><span class="fl">0.6</span>    <span class="co"># elasticity of substitution</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>Ak<span class="op">=</span><span class="fl">0.02</span>  <span class="co"># capital auugmenting parameter</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>A<span class="op">=</span> <span class="fl">1</span>     <span class="co"># Hicks neutral parameters</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>ρm<span class="op">=</span>(<span class="fl">1</span><span class="op">+</span><span class="fl">0.26</span>)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span><span class="fl">12</span>)<span class="op">-</span><span class="fl">1</span>   <span class="co"># this is obtained from Andreoni and Sprenger (2012)</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>gm <span class="op">=</span> (<span class="fl">1</span><span class="op">+</span><span class="fl">0.02</span>)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span><span class="fl">12</span>)<span class="op">-</span><span class="fl">1</span>   <span class="co"># this is the average of labor productivity growth</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>δm <span class="op">=</span> (<span class="fl">1</span><span class="op">+</span><span class="fl">0.068</span>)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span><span class="fl">12</span>)<span class="op">-</span><span class="fl">1</span>  <span class="co"># this is the average of the depreciation rate </span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Beveridge curve</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>λ<span class="fl">0</span> <span class="op">=</span> <span class="fl">0.025</span>  <span class="co"># Separation rate</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>ṁ <span class="op">=</span> <span class="fl">0.0000</span>  <span class="co"># Equilibrium value</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>Ṁ <span class="op">=</span> gm<span class="op">/</span>α  <span class="co"># derived from the steady-state growth equation. </span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>ι <span class="op">=</span> <span class="fl">1.25</span>      <span class="co">#  Same as Petrosky-Nadeu (2018)</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>ρ <span class="op">=</span> ρm    <span class="co"># subjective discount rate</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>γf <span class="op">=</span> <span class="fl">0.45</span>   <span class="co">#  Response time of capitalists</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>ξ <span class="op">=</span> <span class="fl">8.2</span>    <span class="co"># calibrated to be about 2 times the average productivity of labor</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>δ <span class="op">=</span> δm      <span class="co"># Standard</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="cn">φ</span> <span class="op">=</span> <span class="fl">0.3</span>     <span class="co"># Relative price of capital</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>0.3</code></pre>
</div>
</div>
<p>The following code maps the equations in Definition 1 in the main text, with <span class="math inline">\(T^{w}\)</span> as an endogenous variable. This is the first step to deduce the OLS estimators of</p>
<p><span class="math display">\[
\mathrm{ln}T^{w}_{t} = \beta^{w}_{0} + \beta^{w}_{1} \mathrm{ln} \mathcal{W}_{t} + \beta^{w}_{2} \mathrm{ln} (Y_{t}/L_{t})+ \nu_{t}.
\]</span></p>
<p>Keep in mind that, as noted in the Table 1 in the main text, <span class="math inline">\(q(\theta) = (1+\theta^\iota)^{-\iota}\)</span>. Each line of the code is accompanied with a brief description.</p>
</section>
<section id="nonlinear-solver-of-steady-state" class="level2">
<h2 class="anchored" data-anchor-id="nonlinear-solver-of-steady-state">Nonlinear Solver of Steady-State</h2>
<div id="6" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Code for solving the steady-state (with Tw as an endogenous variable)</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">sys2!</span>(FF,x,m,α,σ,λ<span class="fl">0</span>,ι,ρ,ṁ,Ṁ,γf,b_y,ξ,δ,L,Pr,A,Ak,<span class="cn">φ</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    w<span class="op">=</span>x[<span class="fl">1</span>]; wu<span class="op">=</span>x[<span class="fl">2</span>]; wn<span class="op">=</span>x[<span class="fl">3</span>];  k<span class="op">=</span>x[<span class="fl">4</span>]; ku<span class="op">=</span>x[<span class="fl">5</span>]; kn<span class="op">=</span>x[<span class="fl">6</span>];</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    μ<span class="op">=</span>x[<span class="fl">7</span>]; θ <span class="op">=</span> x[<span class="fl">8</span>]; θu <span class="op">=</span> x[<span class="fl">9</span>]; θn <span class="op">=</span> x[<span class="fl">10</span>]; fθ <span class="op">=</span> x[<span class="fl">11</span>]; qθ <span class="op">=</span> x[<span class="fl">12</span>];</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    fθu <span class="op">=</span> x[<span class="fl">13</span>]; qθu <span class="op">=</span> x[<span class="fl">14</span>]; fθn<span class="op">=</span> x[<span class="fl">15</span>]; qθn <span class="op">=</span> x[<span class="fl">16</span>]; Tw <span class="op">=</span> x[<span class="fl">17</span>];</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    Lu<span class="op">=</span>x[<span class="fl">18</span>]; Ln<span class="op">=</span>x[<span class="fl">19</span>]; Γna <span class="op">=</span> x[<span class="fl">20</span>]; Γnb <span class="op">=</span> x[<span class="fl">21</span>]; Ψna <span class="op">=</span> x[<span class="fl">22</span>]; </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    Ψnb<span class="op">=</span>x[<span class="fl">23</span>] ; Ψn <span class="op">=</span> x[<span class="fl">24</span>]; y <span class="op">=</span> x[<span class="fl">25</span>]; ∂yL <span class="op">=</span> x[<span class="fl">26</span>]; ∂yk <span class="op">=</span> x[<span class="fl">27</span>];</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    yu <span class="op">=</span> x[<span class="fl">28</span>]; ∂yLu<span class="op">=</span>x[<span class="fl">29</span>]; yn <span class="op">=</span>x[<span class="fl">30</span>]; ∂yLn<span class="op">=</span>x[<span class="fl">31</span>]; ∂ykn<span class="op">=</span>x[<span class="fl">32</span>];∂yku<span class="op">=</span>x[<span class="fl">33</span>];</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    μu <span class="op">=</span> x[<span class="fl">34</span>]; μn <span class="op">=</span> x[<span class="fl">35</span>]; Ψu <span class="op">=</span> x[<span class="fl">36</span>]; UAL <span class="op">=</span> x[<span class="fl">37</span>]; g <span class="op">=</span> x[<span class="fl">38</span>]; λ <span class="op">=</span> x[<span class="fl">39</span>]; b<span class="op">=</span>x[<span class="fl">40</span>]</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">1</span>] <span class="op">=</span> qθ <span class="op">-</span> (<span class="fl">1</span><span class="op">+</span>θ<span class="op">^</span>(ι))<span class="op">^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span>ι)        <span class="co">#  probability of filling a vacancy</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">2</span>] <span class="op">=</span> fθ <span class="op">-</span> qθ<span class="op">*</span>θ                    <span class="co"># job finding probability</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">3</span>] <span class="op">=</span> L <span class="op">-</span> fθ<span class="op">/</span>(λ<span class="op">+</span>fθ)                <span class="co"># steady-state employment</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">4</span>] <span class="op">=</span> qθu <span class="op">-</span> (<span class="fl">1</span><span class="op">+</span>θu<span class="op">^</span>(ι))<span class="op">^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span>ι)      <span class="co"># probability of filling a vacancy in collective bargaining</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">5</span>] <span class="op">=</span> fθu <span class="op">-</span> qθu<span class="op">*</span>θu                 <span class="co"># job finding probability in collective bargaining</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">6</span>] <span class="op">=</span> Lu <span class="op">-</span> fθu<span class="op">/</span>(λ<span class="op">+</span>fθu)             <span class="co"># steady-state employment in collective bargaining</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">7</span>] <span class="op">=</span> qθn <span class="op">-</span> (<span class="fl">1</span><span class="op">+</span>θn<span class="op">^</span>(ι))<span class="op">^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span>ι)      <span class="co"># probability of filling a vacancy in individual bargaining</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">8</span>] <span class="op">=</span> fθn <span class="op">-</span> qθn<span class="op">*</span>θn                 <span class="co"># job finding probability in individual bargaining</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">9</span>] <span class="op">=</span> UAL <span class="op">-</span> (<span class="fl">1</span><span class="fu">-exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="fu">*</span>(Ṁ<span class="op">-</span>ṁ))<span class="fu">*</span>(<span class="fu">exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="fu">*</span>(m<span class="op">+</span>ṁ))<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>(<span class="fu">exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span>m)<span class="op">-</span><span class="fl">1</span>)) <span class="co"># marginal technological unemployment</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">10</span>] <span class="op">=</span> λ <span class="op">-</span> λ<span class="fl">0</span> <span class="op">-</span> UAL                <span class="co"># separation rate</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">11</span>] <span class="op">=</span> g <span class="op">-</span> α<span class="op">*</span>Ṁ                     <span class="co"># growth rate</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">12</span>] <span class="op">=</span> Ln<span class="op">-</span> fθn<span class="op">/</span>(λ<span class="op">+</span>fθn)             <span class="co"># steady-state employment in individual bargaining</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">13</span>] <span class="op">=</span> Γna <span class="op">-</span> γf<span class="op">/</span>(<span class="fl">1</span><span class="op">+</span>γf)             <span class="co"># Intrinsic bargaining power (case a)</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">14</span>] <span class="op">=</span> <span class="fu">Γnb-γf*</span>(<span class="fl">1</span><span class="op">-</span>qθn)<span class="op">/</span>(<span class="fl">1</span><span class="fu">+γf+qθn*</span>(<span class="fl">1</span><span class="op">-</span>γf)) <span class="co"># Intrinsic bargaining power (case b)</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">15</span>] <span class="op">=</span> Ψna <span class="op">-</span> <span class="fu">Γna*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>fθn)<span class="op">/</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>  Γna<span class="op">*</span>fθn)  <span class="co"># Actual bargaining power (case a)</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">16</span>] <span class="op">=</span> Ψnb <span class="op">-</span> <span class="fu">Γnb*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>fθn)<span class="op">/</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>  Γnb<span class="op">*</span>fθn)  <span class="co"># Actual bargaining power (case b)</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">17</span>] <span class="op">=</span> Ψn <span class="op">-</span> ((Tw<span class="op">*</span>Γnb <span class="op">+</span>θn<span class="op">*</span>Γna)<span class="op">/</span>(θn<span class="op">+</span>Tw))<span class="fu">*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>fθn)<span class="op">/</span>(<span class="fu">ρ-g+λ+</span>((Tw<span class="op">*</span>Γnb <span class="op">+</span>θn<span class="op">*</span>Γna)<span class="op">/</span>(θn<span class="op">+</span>Tw))<span class="op">*</span>fθn) <span class="co"># Actual bargaining power (individual protocol)</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">18</span>] <span class="op">=</span> Ψu <span class="op">-</span> <span class="fu">Γna*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>fθu)<span class="op">/</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>   Γna<span class="op">*</span>fθu)  <span class="co"># Actual bargaining power (collective protocol)</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">19</span>] <span class="op">=</span> y <span class="fu">-A*</span>((<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="fu">*</span>(Ak<span class="op">*</span>k)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ) <span class="op">+</span> ((<span class="fu">exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span>m)<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)))<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ))<span class="op">^</span>(σ<span class="op">/</span>(σ<span class="op">-</span><span class="fl">1</span>)) <span class="co"># production function</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">20</span>] <span class="op">=</span> ∂yk <span class="op">-</span> (Ak<span class="op">*</span>A)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ)<span class="fu">*</span>(y<span class="op">/</span>k)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="op">*</span> (<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ)        <span class="co"># Marginal prod. capital </span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">21</span>] <span class="op">=</span> ∂yL <span class="op">-</span> (y <span class="op">-</span> k<span class="op">*</span>∂yk)                                   <span class="co"># Marginal prod. labor </span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">22</span>] <span class="op">=</span> yu <span class="op">-</span> <span class="fu">A*</span>((<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="fu">*</span>(Ak<span class="op">*</span>ku)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ) <span class="op">+</span> ((<span class="fu">exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span>m)<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)))<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ))<span class="op">^</span>(σ<span class="op">/</span>(σ<span class="op">-</span><span class="fl">1</span>))  <span class="co"># production function collective bargaining</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">23</span>] <span class="op">=</span> ∂yku <span class="op">-</span> (A<span class="op">*</span>Ak)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ)<span class="fu">*</span>(yu<span class="op">/</span>ku)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="op">*</span> (<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ)          <span class="co"># Marginal prod. capital with collective bargaining</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">24</span>] <span class="op">=</span> ∂yLu <span class="op">-</span> (yu <span class="op">-</span> ku<span class="op">*</span>∂yku)                                        <span class="co">#      Marginal prod. labor with collective bargaining</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">25</span>] <span class="op">=</span> yn <span class="op">-</span> <span class="fu">A*</span>((<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="fu">*</span>(Ak<span class="op">*</span>kn)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ) <span class="op">+</span> ((<span class="fu">exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span>m)<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)))<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ))<span class="op">^</span>(σ<span class="op">/</span>(σ<span class="op">-</span><span class="fl">1</span>)) <span class="co"># production function individual bargaining</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">26</span>] <span class="op">=</span> ∂ykn <span class="op">-</span> (A<span class="op">*</span>Ak)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ)<span class="fu">*</span>(yn<span class="op">/</span>kn)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="op">*</span> (<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ)                <span class="co"># Marginal prod. capital (equation (A1)) with individual bargaining</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">27</span>] <span class="op">=</span> ∂yLn <span class="fu">-</span>(yn <span class="op">-</span> kn<span class="op">*</span>∂ykn)                                        <span class="co"># Marginal prod. labor (equation (A1)) with individual bargaining</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">28</span>] <span class="op">=</span> wn <span class="fu">-</span>( b <span class="op">+</span> <span class="fu">Ψn*</span>(∂yLn<span class="op">-</span>b))                                      <span class="co"># Hypothetical wage individual bargaining </span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">29</span>] <span class="op">=</span> wn <span class="fu">-</span>( ∂yLn<span class="op">-</span> <span class="fu">ξ*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ)<span class="op">/</span>qθn)                                  <span class="co"># Hypothetical labor demand with individual bargaining  (these equations solve θn,wn)</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">30</span>] <span class="op">=</span> wu <span class="fu">-</span>( b <span class="op">+</span> <span class="fu">Ψu*</span>(∂yLu<span class="op">-</span>b <span class="op">+</span> (ρ<span class="op">-</span>g<span class="op">+</span>λ)<span class="op">/</span>(ρ<span class="op">-</span>g) <span class="fu">*</span>(yu<span class="op">-</span>∂yLu)))           <span class="co"># Hypothetical wage collective bargaining </span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">31</span>] <span class="op">=</span> wu <span class="fu">-</span>( ∂yLu<span class="op">-</span> <span class="fu">ξ*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ)<span class="op">/</span>qθu )                                 <span class="co"># Hypothetical labor demand with collective bargaining  (these equations solve θu,wu)</span></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">32</span>] <span class="op">=</span> w <span class="fu">-</span>(Pr<span class="op">*</span>wu <span class="op">+</span> (<span class="fl">1</span><span class="op">-</span>Pr)<span class="op">*</span>wn)                                      <span class="co"># Aggregate wage   </span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">33</span>] <span class="op">=</span> w <span class="fu">-</span>(∂yL<span class="op">-</span> <span class="fu">ξ*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ)<span class="op">/</span>qθ)                                      <span class="co"># Labor demand equation   </span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">34</span>] <span class="op">=</span> μ <span class="fu">-</span>((∂yL<span class="op">/</span>w)<span class="op">-</span><span class="fl">1</span>)                                              <span class="co"># markup</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">35</span>] <span class="op">=</span> ∂yk <span class="op">-</span> <span class="fu">δ*</span>(<span class="fl">1</span><span class="op">+</span>μ)<span class="op">/</span><span class="cn">φ</span>                                             <span class="co"># Capital market equilibrium</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">36</span>] <span class="op">=</span> μn <span class="fu">-</span>((∂yLn<span class="op">/</span>wn)<span class="op">-</span><span class="fl">1</span>)                                           <span class="co"># markup (individual bargaining)</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">37</span>] <span class="op">=</span> μu <span class="op">-</span> ((∂yLu<span class="op">/</span>wu)<span class="op">-</span><span class="fl">1</span>)                                          <span class="co"># markup (collective bargaining)</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">38</span>] <span class="op">=</span> ∂yku <span class="op">-</span> <span class="fu">δ*</span>(<span class="fl">1</span><span class="op">+</span>μu)<span class="op">/</span><span class="cn">φ</span>                                           <span class="co"># Capital market equilibrium (collective bargaining)</span></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">39</span>] <span class="op">=</span> ∂ykn <span class="op">-</span> <span class="fu">δ*</span>(<span class="fl">1</span><span class="op">+</span>μn)<span class="op">/</span><span class="cn">φ</span>                                           <span class="co"># Capital market equilibrium (individual bargaining)</span></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">40</span>] <span class="op">=</span> b <span class="op">-</span> b_y<span class="op">*</span>y                                                   <span class="co"># Steady-state unemployment benefits</span></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>sys2! (generic function with 1 method)</code></pre>
</div>
</div>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<div id="8" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Time-Varying Parameters</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Download the necessary data</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>data_calibration <span class="op">=</span> XLSX.<span class="fu">readxlsx</span>(<span class="st">"/Users/juanjacobo/Documents/Documents/metroeconomica_2025/Data/data_in_calibrations.xlsx"</span>);</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>data_annual<span class="op">=</span>data_calibration[<span class="st">"annual!A1:AW83"</span>];</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>data_quarterly<span class="op">=</span>data_calibration[<span class="st">"quarterly!A1:N290"</span>]</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>data_monthly<span class="op">=</span>data_calibration[<span class="st">"monthly!A1:G962"</span>]</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">## the data is annual from 1948 to 2008</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>time_annual <span class="op">=</span> <span class="fu">convert</span>(<span class="dt">Array</span>{<span class="dt">Float64</span>,<span class="fl">1</span>},data_annual[<span class="fl">12</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">11</span>,<span class="fl">1</span>])</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>g_penn <span class="op">=</span> <span class="fu">convert</span>(<span class="dt">Array</span>{<span class="dt">Float64</span>,<span class="fl">1</span>},data_annual[<span class="fl">12</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">11</span>,<span class="fl">5</span>])  <span class="co"># growth rate penn world data</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>unions <span class="op">=</span> <span class="fu">convert</span>(<span class="dt">Array</span>{<span class="dt">Float64</span>,<span class="fl">1</span>},data_annual[<span class="fl">12</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">11</span>,<span class="fl">2</span>])  <span class="co"># union data</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>poor_welfare <span class="op">=</span> <span class="fu">convert</span>(<span class="dt">Array</span>{<span class="dt">Float64</span>,<span class="fl">1</span>},data_annual[<span class="fl">26</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">11</span>,<span class="fl">45</span>])  <span class="co"># 1962-2010</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>poor_welfare_PTANF <span class="op">=</span> <span class="fu">convert</span>(<span class="dt">Array</span>{<span class="dt">Float64</span>,<span class="fl">1</span>},data_annual[<span class="fl">26</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">11</span>,<span class="fl">46</span>])  <span class="co"># 1962-2010</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>poor_welfare_PTANFMEDICAID <span class="op">=</span> <span class="fu">convert</span>(<span class="dt">Array</span>{<span class="dt">Float64</span>,<span class="fl">1</span>},data_annual[<span class="fl">26</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">11</span>,<span class="fl">47</span>])  <span class="co"># 1962-2010</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>poor_welfare_ALL_LTAXCREDITS <span class="op">=</span> <span class="fu">convert</span>(<span class="dt">Array</span>{<span class="dt">Float64</span>,<span class="fl">1</span>},data_annual[<span class="fl">26</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">11</span>,<span class="fl">48</span>])  <span class="co"># 1962-2010</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>automation_mann <span class="op">=</span> <span class="fu">convert</span>(<span class="dt">Array</span>{<span class="dt">Float64</span>,<span class="fl">1</span>},data_annual[<span class="fl">38</span><span class="op">:</span><span class="fl">72</span>,<span class="fl">49</span>])   <span class="co"># 1974-2008</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="co">## the data is quarterly from 1948 to 2008</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>time_quarterly <span class="op">=</span> <span class="fu">collect</span>(<span class="fu">range</span>(<span class="fl">1948</span>,length<span class="op">=</span> <span class="fl">245</span>, stop<span class="op">=</span><span class="fl">2009</span>)) </span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>b_chodorow_q <span class="op">=</span> <span class="fu">convert</span>(<span class="dt">Array</span>{<span class="dt">Float64</span>,<span class="fl">1</span>},data_quarterly[<span class="fl">6</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">40</span>,<span class="fl">4</span>]) <span class="co"># Opportunity costs from Chodorow-Reich, &amp; Karabarbounis</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>NRU_q<span class="op">=</span> <span class="fu">convert</span>(<span class="dt">Array</span>{<span class="dt">Float64</span>,<span class="fl">1</span>},data_quarterly[<span class="fl">10</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">40</span>,<span class="fl">5</span>])        <span class="co"># Noncyclical rate of unemployment</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>YL<span class="op">=</span><span class="fu">convert</span>(<span class="dt">Array</span>{<span class="dt">Float64</span>,<span class="fl">1</span>},data_quarterly[<span class="fl">6</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">40</span>,<span class="fl">2</span>])             <span class="co"># GDP per capita</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute moving averages</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>b_chodorow <span class="op">=</span><span class="fu">zeros</span>(<span class="fl">61</span>)</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>NRU <span class="op">=</span> [<span class="fl">5.25</span>;<span class="fu">zeros</span>(<span class="fl">60</span>)]</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>yl <span class="op">=</span> <span class="fu">zeros</span>(<span class="fl">61</span>)</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">61</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>    b_chodorow[i]<span class="op">=</span><span class="fu">mean</span>(b_chodorow_q[<span class="fl">1</span><span class="fu">+</span>(i<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span><span class="fl">4</span><span class="op">:</span>i<span class="op">*</span><span class="fl">4</span>])</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    yl[i]<span class="op">=</span><span class="fu">mean</span>(YL[<span class="fl">1</span><span class="fu">+</span>(i<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span><span class="fl">4</span><span class="op">:</span>i<span class="op">*</span><span class="fl">4</span>])</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">60</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>    NRU[i<span class="op">+</span><span class="fl">1</span>]<span class="op">=</span><span class="fu">mean</span>(NRU_q[<span class="fl">1</span><span class="fu">+</span>(i<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span><span class="fl">4</span><span class="op">:</span>i<span class="op">*</span><span class="fl">4</span>]) <span class="co"># Natural rate of unemployment</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a><span class="co">## the data is monthly from 1948 to 2009</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>time_monthly <span class="op">=</span> <span class="fu">collect</span>(<span class="fu">range</span>(<span class="fl">1948</span>,length<span class="op">=</span> <span class="fl">733</span>, stop<span class="op">=</span><span class="fl">2009</span>)) </span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>un_civil_m <span class="op">=</span> <span class="fu">convert</span>(<span class="dt">Array</span>{<span class="dt">Float64</span>,<span class="fl">1</span>},data_monthly[<span class="fl">110</span><span class="op">:</span><span class="fl">842</span>,<span class="fl">5</span>]) <span class="co"># civil unemployment</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>vacancies_m <span class="op">=</span> <span class="fu">convert</span>(<span class="dt">Array</span>{<span class="dt">Float64</span>,<span class="fl">1</span>},data_monthly[<span class="fl">110</span><span class="op">:</span><span class="fl">842</span>,<span class="fl">7</span>]) <span class="co"># monthly vacancies</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>un_c,vac<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">61</span>),<span class="fu">zeros</span>(<span class="fl">61</span>),<span class="fu">zeros</span>(<span class="fl">61</span>),<span class="fu">zeros</span>(<span class="fl">61</span>)</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">61</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>    un_c[i]<span class="op">=</span><span class="fu">mean</span>(un_civil_m[<span class="fl">1</span><span class="fu">+</span>(i<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span><span class="fl">12</span><span class="op">:</span>i<span class="op">*</span><span class="fl">12</span>])</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>    vac[i]<span class="op">=</span><span class="fu">mean</span>(vacancies_m[<span class="fl">1</span><span class="fu">+</span>(i<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span><span class="fl">12</span><span class="op">:</span>i<span class="op">*</span><span class="fl">12</span>])</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>θs <span class="op">=</span> vac<span class="op">./</span>un_c   <span class="co"># Labor market tightness</span></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>bcho_HP <span class="op">=</span> <span class="fu">HP</span>(b_chodorow,<span class="fl">6</span>)  <span class="co"># unemployment benefts (b)</span></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>unions_HP <span class="op">=</span> <span class="fu">HP</span>(unions,<span class="fl">6</span>)  <span class="co"># Union data</span></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>G_hp <span class="op">=</span> <span class="fu">HP</span>(g_penn,<span class="fl">6</span>)  <span class="co"># Penn world Table growth data</span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>g_ms <span class="op">=</span> (G_hp<span class="op">.+</span><span class="fl">1</span>)<span class="op">.^</span>(<span class="fl">1</span><span class="op">/</span><span class="fl">12</span>)<span class="op">.-</span><span class="fl">1</span> <span class="co"># monthly </span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>Ṁs <span class="op">=</span> <span class="fl">1.0</span><span class="op">*</span>g_ms<span class="op">./</span>α;  <span class="co"># Growth in the creation of new tasks</span></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a><span class="fu">with_theme</span>(<span class="fu">theme_latexfonts</span>()) <span class="cf">do</span>       </span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>    f <span class="op">=</span> <span class="fu">Figure</span>(size <span class="op">=</span> (<span class="fl">900</span>, <span class="fl">600</span>))</span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">1</span>, <span class="fl">1</span>],</span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a>        xlabel <span class="op">=</span> <span class="st">"Period "</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a>        title <span class="op">=</span> <span class="st">"Real value of welfare assistance per person"</span>,</span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lines!</span>(ax, time_annual[<span class="fl">15</span><span class="op">:</span><span class="kw">end</span>], poor_welfare, color <span class="op">=</span> <span class="op">:</span>navy)</span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">1</span>, <span class="fl">2</span>],</span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a>    xlabel <span class="op">=</span> <span class="st">"Period "</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a>    title <span class="op">=</span> <span class="st">"Welfare assistance per person over GDP per capita"</span>,</span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lines!</span>(ax, time_annual[<span class="fl">15</span><span class="op">:</span><span class="kw">end</span>], poor_welfare<span class="op">./</span>yl[<span class="fl">15</span><span class="op">:</span><span class="kw">end</span>], color <span class="op">=</span> <span class="op">:</span>navy)</span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a>  ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">2</span>, <span class="fl">1</span>],</span>
<span id="cb7-64"><a href="#cb7-64" aria-hidden="true" tabindex="-1"></a>  xlabel <span class="op">=</span> <span class="st">"Period "</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb7-65"><a href="#cb7-65" aria-hidden="true" tabindex="-1"></a>  title <span class="op">=</span> <span class="st">"Opportunity costs of employment"</span>,</span>
<span id="cb7-66"><a href="#cb7-66" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-67"><a href="#cb7-67" aria-hidden="true" tabindex="-1"></a><span class="fu">lines!</span>(ax, time_annual[<span class="fl">15</span><span class="op">:</span><span class="kw">end</span>], b_chodorow[<span class="fl">15</span><span class="op">:</span><span class="kw">end</span>], color <span class="op">=</span> <span class="op">:</span>navy)</span>
<span id="cb7-68"><a href="#cb7-68" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">2</span>, <span class="fl">2</span>],</span>
<span id="cb7-69"><a href="#cb7-69" aria-hidden="true" tabindex="-1"></a>xlabel <span class="op">=</span> <span class="st">"Period"</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb7-70"><a href="#cb7-70" aria-hidden="true" tabindex="-1"></a>title <span class="op">=</span> <span class="st">"Union membership"</span>,</span>
<span id="cb7-71"><a href="#cb7-71" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-72"><a href="#cb7-72" aria-hidden="true" tabindex="-1"></a><span class="fu">lines!</span>(ax, time_annual[<span class="fl">15</span><span class="op">:</span><span class="kw">end</span>], unions[<span class="fl">15</span><span class="op">:</span><span class="kw">end</span>], color <span class="op">=</span> <span class="op">:</span>navy)</span>
<span id="cb7-73"><a href="#cb7-73" aria-hidden="true" tabindex="-1"></a>    f</span>
<span id="cb7-74"><a href="#cb7-74" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<div>
<figure class="figure">
<p><img src="main_APP_code_files/figure-html/cell-5-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The real value of welfare assistance per person is retrived from https://federalsafetynet.com/poverty-and-spending-over-the-years-2/. In particular, I compute Total welfare spending-Refundable tax credits (EITC and CTC) - SSI - Medicaid -TANF.</p>
<p>The differences generated by omitting refundable tax credits and Medicaid is presented in the following graph. This illustrates the transition of the welfare state in the United States from a need-based to a work-based system (<span class="citation" data-cites="moffitt2015deserving">Moffitt (<a href="#ref-moffitt2015deserving" role="doc-biblioref">2015</a>)</span>; <span class="citation" data-cites="parolin2023inequality">Parolin, Desmond, and Wimer (<a href="#ref-parolin2023inequality" role="doc-biblioref">2023</a>)</span>; <span class="citation" data-cites="noble1997welfare">Noble (<a href="#ref-noble1997welfare" role="doc-biblioref">1997</a>)</span>).</p>
<div id="10" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>poor_measures<span class="op">=</span>[poor_welfare poor_welfare_PTANF poor_welfare_PTANFMEDICAID poor_welfare_ALL_LTAXCREDITS]</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">with_theme</span>(<span class="fu">theme_latexfonts</span>()) <span class="cf">do</span>       </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    f <span class="op">=</span> <span class="fu">Figure</span>(size <span class="op">=</span> (<span class="fl">900</span>, <span class="fl">500</span>))</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">1</span>, <span class="fl">1</span>],</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        xlabel <span class="op">=</span> <span class="st">"Period "</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>        title <span class="op">=</span> <span class="st">"Real welfare assistance per person"</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lines!</span>(ax, time_annual[<span class="fl">15</span><span class="op">:</span><span class="kw">end</span>],poor_measures[<span class="op">:</span>,<span class="fl">1</span>], label <span class="op">=</span> <span class="st">"Welfare less EITC, CTC, TANF, Medicaid, and SSI"</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lines!</span>(ax, time_annual[<span class="fl">15</span><span class="op">:</span><span class="kw">end</span>],poor_measures[<span class="op">:</span>,<span class="fl">2</span>], label <span class="op">=</span> <span class="st">"Welfare less EITC, CTC, Medicaid, and SSI"</span>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lines!</span>(ax, time_annual[<span class="fl">15</span><span class="op">:</span><span class="kw">end</span>],poor_measures[<span class="op">:</span>,<span class="fl">3</span>], label <span class="op">=</span> <span class="st">"Welfare less EITC, CTC, and SSI"</span>)</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lines!</span>(ax, time_annual[<span class="fl">15</span><span class="op">:</span><span class="kw">end</span>],poor_measures[<span class="op">:</span>,<span class="fl">4</span>], label <span class="op">=</span> <span class="st">"Welfare less Medicaid, and SSI"</span>)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">axislegend</span>(; position <span class="op">=</span> <span class="op">:</span>rb, nbanks <span class="op">=</span> <span class="fl">2</span>, framecolor <span class="op">=</span> (<span class="op">:</span>grey, <span class="fl">0.5</span>))</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    f</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<div>
<figure class="figure">
<p><img src="main_APP_code_files/figure-html/cell-6-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<section id="data-on-productive-sectors" class="level3">
<h3 class="anchored" data-anchor-id="data-on-productive-sectors">Data on Productive Sectors</h3>
<p>Following <span class="citation" data-cites="basu2013dynamics">Basu and Foley (<a href="#ref-basu2013dynamics" role="doc-biblioref">2013</a>)</span>, I create a database of the labor share, markup, and capital-output ratio for sectors without questionable imputations of value-added. These sectors—which exclude agriculture and mining—are summarized in the following table.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 39%">
<col style="width: 60%">
</colgroup>
<thead>
<tr class="header">
<th>BEA Industry Category</th>
<th>BLS Industry Category</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Utilities</td>
<td>Utilities</td>
</tr>
<tr class="even">
<td>Construction</td>
<td>Construction</td>
</tr>
<tr class="odd">
<td>Manufacturing</td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>Wood products</td>
</tr>
<tr class="odd">
<td></td>
<td>Nonmetallic mineral products</td>
</tr>
<tr class="even">
<td></td>
<td>Primary metals</td>
</tr>
<tr class="odd">
<td></td>
<td>Fabricated metal products</td>
</tr>
<tr class="even">
<td></td>
<td>Machinery</td>
</tr>
<tr class="odd">
<td></td>
<td>Computer and electronic products</td>
</tr>
<tr class="even">
<td></td>
<td>Electrical equipment, appliances, and components</td>
</tr>
<tr class="odd">
<td></td>
<td>Motor vehicles, bodies and trailers, and parts</td>
</tr>
<tr class="even">
<td></td>
<td>Other transportation equipment</td>
</tr>
<tr class="odd">
<td></td>
<td>Furniture and related products</td>
</tr>
<tr class="even">
<td></td>
<td>Miscellaneous manufacturing</td>
</tr>
<tr class="odd">
<td></td>
<td>Food and beverage and tobacco products</td>
</tr>
<tr class="even">
<td></td>
<td>Textile mills and textile product mills</td>
</tr>
<tr class="odd">
<td></td>
<td>Apparel and leather and allied products</td>
</tr>
<tr class="even">
<td></td>
<td>Paper products</td>
</tr>
<tr class="odd">
<td></td>
<td>Printing and related support activities</td>
</tr>
<tr class="even">
<td></td>
<td>Petroleum and coal products</td>
</tr>
<tr class="odd">
<td></td>
<td>Chemical products</td>
</tr>
<tr class="even">
<td></td>
<td>Plastics and rubber products</td>
</tr>
<tr class="odd">
<td>Wholesale trade</td>
<td>Wholesale trade</td>
</tr>
<tr class="even">
<td>Retail trade</td>
<td>Retail trade</td>
</tr>
<tr class="odd">
<td>Transporting and warehousing</td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>Air transportation</td>
</tr>
<tr class="odd">
<td></td>
<td>Rail transportation</td>
</tr>
<tr class="even">
<td></td>
<td>Water transportation</td>
</tr>
<tr class="odd">
<td></td>
<td>Truck transportation</td>
</tr>
<tr class="even">
<td></td>
<td>Transit and ground passenger transportation</td>
</tr>
<tr class="odd">
<td></td>
<td>Pipeline transportation</td>
</tr>
<tr class="even">
<td></td>
<td>Other transportation and support activities</td>
</tr>
<tr class="odd">
<td></td>
<td>Warehousing and storage</td>
</tr>
<tr class="even">
<td>Information</td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td>Publishing industries, except internet</td>
</tr>
<tr class="even">
<td></td>
<td>Motion picture and sound recording industries</td>
</tr>
<tr class="odd">
<td></td>
<td>Broadcasting and telecommunications</td>
</tr>
<tr class="even">
<td></td>
<td>Data processing and</td>
</tr>
</tbody>
</table>
<p>The following code uses data from <span class="citation" data-cites="eldridge2020toward">Eldridge et al. (<a href="#ref-eldridge2020toward" role="doc-biblioref">2020</a>)</span> and BEA Fixed Assets Accounts Tables to construct the relevant variables in the paper.</p>
<div id="12" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co">#bea_bls_data is the data from Eldridge et al. (2020)</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> XLSX.<span class="fu">readxlsx</span>(<span class="st">"/Users/juanjacobo/Documents/Documents/metroeconomica_2025/Data/bea_bls_data.xlsx"</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>data_depre <span class="op">=</span> XLSX.<span class="fu">readxlsx</span>(<span class="st">"/Users/juanjacobo/Documents/Documents/metroeconomica_2025/Data/current_dep_assets.xlsx"</span>)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>curr_c_cap <span class="op">=</span> XLSX.<span class="fu">readxlsx</span>(<span class="st">"/Users/juanjacobo/Documents/Documents/metroeconomica_2025/Data/cost_assets.xlsx"</span>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>data_1947_1963<span class="op">=</span>data[<span class="st">"1947-1963!A2:W750"</span>]</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>data_1963_2016<span class="op">=</span>data[<span class="st">"1963-2016!A2:W3404"</span>]</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>full_sample<span class="op">=</span>[data_1947_1963;data_1963_2016] <span class="co"># merges the time periods</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>data_D<span class="op">=</span>data_depre[<span class="st">"Sheet2!A1:U72"</span>] <span class="co"># depreciation data</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>cost_assets<span class="op">=</span>curr_c_cap[<span class="st">"Sheet2!A1:U72"</span>] <span class="co"># value of assets</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co"># The following computes the empirical variables in the text using the experimental BEA-BLS data</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">economy_lab_shares</span>(full_sample,data_D,cost_assets)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    VA_t<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">17</span>);         VA_t2<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">54</span>);        VA_t3<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">71</span>);    </span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    la_c_t<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">17</span>);       la_c_t2<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">54</span>);          la_c_t3<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">71</span>);      </span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    la_nc_t<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">17</span>);  la_nc_t2<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">54</span>);         la_nc_t3<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">71</span>);     </span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    MA_t<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">17</span>);         MA_t2<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">54</span>);     MA_t3<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">71</span>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    KA_t<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">17</span>);         KA_t2<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">54</span>);     KA_t3<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">71</span>)</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    rVA_t<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">17</span>);        rVA_t2<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">54</span>);       rVA_t3<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">71</span>);   </span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    L_t <span class="op">=</span> <span class="fu">zeros</span>(<span class="fl">17</span>);        L_t2<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">54</span>);         L_t3<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">71</span>);     </span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    h_t<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">17</span>);          h_t2<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">54</span>);         h_t3<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">71</span>);     </span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    depret<span class="op">=</span><span class="fu">sum</span>(data_D[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">1</span>,i]<span class="op">./</span><span class="fl">1</span> <span class="cf">for</span> i <span class="op">∈</span> [<span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">7</span>,<span class="fl">8</span>,<span class="fl">9</span>,<span class="fl">10</span>,<span class="fl">11</span>,<span class="fl">16</span>,<span class="fl">19</span>,<span class="fl">20</span>,<span class="fl">21</span>])<span class="op">.*</span><span class="fl">1000</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    Kts<span class="op">=</span><span class="fu">sum</span>(cost_assets[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">1</span>,i]<span class="op">./</span><span class="fl">1</span> <span class="cf">for</span> i <span class="op">∈</span> [<span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">7</span>,<span class="fl">8</span>,<span class="fl">9</span>,<span class="fl">10</span>,<span class="fl">11</span>,<span class="fl">16</span>,<span class="fl">19</span>,<span class="fl">20</span>,<span class="fl">21</span>])<span class="op">.*</span><span class="fl">1000</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="op">=</span>[<span class="fl">6</span>,<span class="fl">7</span>,<span class="fl">8</span>,<span class="fl">9</span>,<span class="fl">10</span>,<span class="fl">11</span>,<span class="fl">12</span>,<span class="fl">13</span>,<span class="fl">14</span>,<span class="fl">15</span>,<span class="fl">16</span>,<span class="fl">17</span>,<span class="fl">18</span>,<span class="fl">19</span>,<span class="fl">20</span>,<span class="fl">21</span>,<span class="fl">22</span>,<span class="fl">23</span>,<span class="fl">24</span>,<span class="fl">25</span>,<span class="fl">26</span>,<span class="fl">27</span>,<span class="fl">28</span>,<span class="fl">59</span>,<span class="fl">60</span>,<span class="fl">61</span>]</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>        agr_VA<span class="op">=</span><span class="fu">findall</span>(x <span class="op">-&gt;</span> x <span class="op">==</span>i, full_sample[<span class="op">:</span>,<span class="fl">2</span>])</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>        VA<span class="op">=</span>full_sample[agr_VA,<span class="fl">4</span>]<span class="op">.-</span>full_sample[agr_VA,<span class="fl">5</span>]</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>        rVA<span class="op">=</span>full_sample[agr_VA,<span class="fl">13</span>]<span class="op">.-</span>full_sample[agr_VA,<span class="fl">14</span>]</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>        LL <span class="op">=</span> (full_sample[agr_VA,<span class="fl">20</span>]<span class="op">.+</span>full_sample[agr_VA,<span class="fl">21</span>])<span class="op">.*</span>full_sample[agr_VA,<span class="fl">22</span>]</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>        VA_t3<span class="op">=</span>VA_t3<span class="op">.+</span>VA</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>        rVA_t3<span class="op">=</span>rVA_t3<span class="op">.+</span>rVA</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>        MA_t3<span class="op">=</span>MA_t3<span class="op">.+</span>full_sample[agr_VA,<span class="fl">5</span>]</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>        la_c<span class="op">=</span>full_sample[agr_VA,<span class="fl">11</span>]</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>        la_c_t3<span class="op">=</span>la_c_t3<span class="op">+</span>la_c</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>        la_nc<span class="op">=</span>full_sample[agr_VA,<span class="fl">12</span>]</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>        h_nc<span class="op">=</span>full_sample[agr_VA,<span class="fl">22</span>]</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>        la_nc_t3<span class="op">=</span>la_nc_t3<span class="op">+</span>la_nc</span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>        h_t3<span class="op">=</span>h_nc<span class="op">+</span>h_t3</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>        L_t3 <span class="op">=</span> L_t3 <span class="op">+</span> LL</span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span>[<span class="fl">2936</span>,<span class="fl">3740</span>,<span class="fl">5152</span>,<span class="fl">5758</span>]</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>        agr_VA<span class="op">=</span><span class="fu">findall</span>(x <span class="op">-&gt;</span> x <span class="op">==</span>i, full_sample[<span class="op">:</span>,<span class="fl">2</span>])</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>        VA<span class="op">=</span>full_sample[agr_VA,<span class="fl">4</span>]<span class="op">.-</span>full_sample[agr_VA,<span class="fl">5</span>]</span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>        rVA<span class="op">=</span>full_sample[agr_VA,<span class="fl">13</span>]<span class="op">.-</span>full_sample[agr_VA,<span class="fl">14</span>]</span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>        VA_t<span class="op">=</span>VA_t<span class="op">.+</span>VA</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>        rVA_t<span class="op">=</span>rVA_t<span class="op">.+</span>rVA</span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>        LL <span class="op">=</span> (full_sample[agr_VA,<span class="fl">20</span>]<span class="op">.+</span>full_sample[agr_VA,<span class="fl">21</span>])<span class="op">.*</span>full_sample[agr_VA,<span class="fl">22</span>]</span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a>        MA_t<span class="op">=</span>MA_t<span class="op">.+</span>full_sample[agr_VA,<span class="fl">5</span>]</span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>        la_c<span class="op">=</span>full_sample[agr_VA,<span class="fl">11</span>]</span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>        la_c_t<span class="op">=</span>la_c_t<span class="op">+</span>la_c</span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>        la_nc<span class="op">=</span>full_sample[agr_VA,<span class="fl">12</span>]</span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a>        la_nc_t<span class="op">=</span>la_nc_t<span class="op">+</span>la_nc</span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>        h_nc<span class="op">=</span>full_sample[agr_VA,<span class="fl">22</span>]</span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>        h_t<span class="op">=</span>h_nc<span class="op">+</span>h_t</span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a>        L_t <span class="op">=</span> L_t <span class="op">+</span> LL</span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span>[<span class="fl">29</span>,<span class="fl">30</span>,<span class="fl">31</span>,<span class="fl">32</span>,<span class="fl">33</span>,<span class="fl">34</span>,<span class="fl">35</span>,<span class="fl">36</span>,<span class="fl">37</span>,<span class="fl">38</span>,<span class="fl">39</span>,<span class="fl">40</span>,<span class="fl">51</span>,<span class="fl">52</span>,<span class="fl">57</span>,<span class="fl">58</span>]</span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a>        agr_VA<span class="op">=</span><span class="fu">findall</span>(x <span class="op">-&gt;</span> x <span class="op">==</span>i, full_sample[<span class="op">:</span>,<span class="fl">2</span>])</span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a>        VA<span class="op">=</span>full_sample[agr_VA,<span class="fl">4</span>]<span class="op">.-</span>full_sample[agr_VA,<span class="fl">5</span>]</span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>        rVA<span class="op">=</span>full_sample[agr_VA,<span class="fl">13</span>]<span class="op">.-</span>full_sample[agr_VA,<span class="fl">14</span>]</span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a>        LL <span class="op">=</span> (full_sample[agr_VA,<span class="fl">20</span>]<span class="op">.+</span>full_sample[agr_VA,<span class="fl">21</span>])<span class="op">.*</span>full_sample[agr_VA,<span class="fl">22</span>]</span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a>        VA_t2<span class="op">=</span>VA_t2<span class="op">.+</span>VA</span>
<span id="cb9-61"><a href="#cb9-61" aria-hidden="true" tabindex="-1"></a>        rVA_t2<span class="op">=</span>rVA_t2<span class="op">.+</span>rVA</span>
<span id="cb9-62"><a href="#cb9-62" aria-hidden="true" tabindex="-1"></a>        MA_t2<span class="op">=</span>MA_t2<span class="op">.+</span>full_sample[agr_VA,<span class="fl">5</span>]</span>
<span id="cb9-63"><a href="#cb9-63" aria-hidden="true" tabindex="-1"></a>        la_c<span class="op">=</span>full_sample[agr_VA,<span class="fl">11</span>]</span>
<span id="cb9-64"><a href="#cb9-64" aria-hidden="true" tabindex="-1"></a>        la_c_t2<span class="op">=</span>la_c_t2<span class="op">+</span>la_c</span>
<span id="cb9-65"><a href="#cb9-65" aria-hidden="true" tabindex="-1"></a>        la_nc<span class="op">=</span>full_sample[agr_VA,<span class="fl">12</span>]</span>
<span id="cb9-66"><a href="#cb9-66" aria-hidden="true" tabindex="-1"></a>        la_nc_t2<span class="op">=</span>la_nc_t2<span class="op">+</span>la_nc</span>
<span id="cb9-67"><a href="#cb9-67" aria-hidden="true" tabindex="-1"></a>        h_nc<span class="op">=</span>full_sample[agr_VA,<span class="fl">22</span>]</span>
<span id="cb9-68"><a href="#cb9-68" aria-hidden="true" tabindex="-1"></a>        h_t2<span class="op">=</span>h_nc<span class="op">+</span>h_t2</span>
<span id="cb9-69"><a href="#cb9-69" aria-hidden="true" tabindex="-1"></a>        L_t2 <span class="op">=</span> L_t2 <span class="op">+</span> LL</span>
<span id="cb9-70"><a href="#cb9-70" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb9-71"><a href="#cb9-71" aria-hidden="true" tabindex="-1"></a>    la_c<span class="op">=</span>[la_c_t;la_c_t2]<span class="op">.+</span>la_c_t3; </span>
<span id="cb9-72"><a href="#cb9-72" aria-hidden="true" tabindex="-1"></a>    la_nc<span class="op">=</span>[la_nc_t;la_nc_t2]<span class="op">.+</span>la_nc_t3; </span>
<span id="cb9-73"><a href="#cb9-73" aria-hidden="true" tabindex="-1"></a>    L_total <span class="op">=</span>[L_t;L_t2]<span class="op">.+</span>L_t3</span>
<span id="cb9-74"><a href="#cb9-74" aria-hidden="true" tabindex="-1"></a>    h <span class="op">=</span> [h_t;h_t2]<span class="op">.+</span>h_t3; </span>
<span id="cb9-75"><a href="#cb9-75" aria-hidden="true" tabindex="-1"></a>    VA<span class="op">=</span>[VA_t;VA_t2]<span class="op">.+</span>VA_t3</span>
<span id="cb9-76"><a href="#cb9-76" aria-hidden="true" tabindex="-1"></a>    rVA<span class="op">=</span> [rVA_t;rVA_t2]<span class="op">.+</span>rVA_t3</span>
<span id="cb9-77"><a href="#cb9-77" aria-hidden="true" tabindex="-1"></a>    YL <span class="op">=</span> VA<span class="op">./</span>L_total</span>
<span id="cb9-78"><a href="#cb9-78" aria-hidden="true" tabindex="-1"></a>    PL <span class="op">=</span> rVA<span class="op">./</span>(h<span class="op">.*</span>(la_c<span class="op">.+</span>la_nc))</span>
<span id="cb9-79"><a href="#cb9-79" aria-hidden="true" tabindex="-1"></a>    MA<span class="op">=</span>[MA_t;MA_t2]<span class="op">.+</span>MA_t3</span>
<span id="cb9-80"><a href="#cb9-80" aria-hidden="true" tabindex="-1"></a>    KA<span class="op">=</span> [KA_t;KA_t2]<span class="op">.+</span>KA_t3</span>
<span id="cb9-81"><a href="#cb9-81" aria-hidden="true" tabindex="-1"></a>    Cap<span class="op">=</span>la_nc[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>]<span class="op">.+</span>la_c[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>]<span class="op">.+</span>depret<span class="op">.+</span>MA[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>]</span>
<span id="cb9-82"><a href="#cb9-82" aria-hidden="true" tabindex="-1"></a>    Cap2 <span class="op">=</span> la_nc[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>]<span class="op">.+</span>la_c[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>]<span class="op">.+</span>depret</span>
<span id="cb9-83"><a href="#cb9-83" aria-hidden="true" tabindex="-1"></a>    Prof<span class="op">=</span>(VA[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>]<span class="op">.-</span>depret<span class="op">.-</span>la_nc[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>]<span class="op">.-</span>la_c[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>])</span>
<span id="cb9-84"><a href="#cb9-84" aria-hidden="true" tabindex="-1"></a>    VA_N<span class="op">=</span>VA[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>]<span class="op">.-</span>depret</span>
<span id="cb9-85"><a href="#cb9-85" aria-hidden="true" tabindex="-1"></a><span class="cf">return</span> [(la_nc)<span class="op">./</span>VA (la_nc<span class="op">.+</span>la_c)<span class="op">./</span>VA [<span class="fl">0</span>;Prof<span class="op">./</span>Cap2] [<span class="fl">0</span>;(la_nc[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>]<span class="op">.+</span>la_c[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>])<span class="op">./</span>VA_N] [<span class="fl">0</span>;Prof<span class="op">./</span>(Kts<span class="op">.+</span>depret)] [<span class="fl">0</span>;(Kts<span class="op">.+</span>depret)<span class="op">./</span>VA[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>]] [<span class="fl">0</span>;(Prof<span class="op">.+</span>depret<span class="op">.+</span>la_nc[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>]<span class="op">.+</span>la_c[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>])<span class="op">./</span>(VA[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>])] [<span class="fl">0</span>;depret<span class="op">./</span>(Kts<span class="op">.+</span>depret)]]</span>
<span id="cb9-86"><a href="#cb9-86" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb9-87"><a href="#cb9-87" aria-hidden="true" tabindex="-1"></a>economy_LS<span class="op">=</span><span class="fu">economy_lab_shares</span>(full_sample,data_D,cost_assets)</span>
<span id="cb9-88"><a href="#cb9-88" aria-hidden="true" tabindex="-1"></a>LS_NCP <span class="op">=</span>economy_LS[<span class="op">:</span>,<span class="fl">1</span>]         <span class="co"># labor share (unskilled labor)</span></span>
<span id="cb9-89"><a href="#cb9-89" aria-hidden="true" tabindex="-1"></a>LS_C <span class="op">=</span> economy_LS[<span class="op">:</span>,<span class="fl">2</span>]<span class="op">.-</span>LS_NCP  <span class="co"># labor share (skilled labor)</span></span>
<span id="cb9-90"><a href="#cb9-90" aria-hidden="true" tabindex="-1"></a>w_share <span class="op">=</span>  economy_LS[<span class="fl">1</span><span class="op">:</span><span class="kw">end</span>,<span class="fl">2</span>]  <span class="co"># labor share </span></span>
<span id="cb9-91"><a href="#cb9-91" aria-hidden="true" tabindex="-1"></a>μ_data <span class="op">=</span>  economy_LS[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>,<span class="fl">3</span>]   <span class="co"># rate of return</span></span>
<span id="cb9-92"><a href="#cb9-92" aria-hidden="true" tabindex="-1"></a>r_data <span class="op">=</span>  economy_LS[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>,<span class="fl">5</span>]    <span class="co"># rate of profit</span></span>
<span id="cb9-93"><a href="#cb9-93" aria-hidden="true" tabindex="-1"></a>KY <span class="op">=</span> economy_LS[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>,<span class="fl">6</span>] ;        <span class="co"># capital-output ratio</span></span>
<span id="cb9-94"><a href="#cb9-94" aria-hidden="true" tabindex="-1"></a>dep_cap<span class="op">=</span>economy_LS[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>,<span class="kw">end</span>]; <span class="co"># depreciation  of capital</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="construction-of-automation-measure" class="level2">
<h2 class="anchored" data-anchor-id="construction-of-automation-measure">Construction of Automation measure</h2>
<p>Now, I use</p>
<p><span class="math display">\[
1-m^{*}_{t}  =  \Big(\frac{K_{t}}{\varphi Y_{t}}\Big)^{\text{BEA}}  {A^{k}\varphi}^{1-\sigma} \Big( \delta  (1+\mu_{t}^{\text{BEA-BLS}})\Big)^{\sigma},
\]</span></p>
<p>to obtain the theoretical measure of automation.</p>
<div id="14" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>KYm<span class="op">=</span>KY<span class="op">.*</span><span class="fl">12</span>  <span class="co"># remember that the calibration is based on monthly data</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>dep_capm <span class="op">=</span> (dep_cap<span class="op">.+</span><span class="fl">1</span>)<span class="op">.^</span>(<span class="fl">1</span><span class="op">/</span><span class="fl">12</span>)<span class="op">.-</span><span class="fl">1</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>m_star <span class="op">=</span><span class="fu">-</span>((<span class="fu">mean</span>(dep_capm)<span class="op">.*</span>(μ_data<span class="op">.+</span><span class="fl">1</span>))<span class="op">.^</span>(σ)<span class="op">*</span> (Ak<span class="op">*</span><span class="cn">φ</span>)<span class="op">^</span>(<span class="fl">1</span><span class="op">-</span>σ)<span class="op">.*</span>(KYm))<span class="op">.+</span><span class="fl">1</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>mm<span class="op">=-</span>m_star<span class="op">.+</span><span class="fl">1</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Next, I construct the time series data in <span class="citation" data-cites="hemous2025induced">Hémous et al. (<a href="#ref-hemous2025induced" role="doc-biblioref">2025</a>)</span>. Note that this is the same as Figure 2 in their paper. Here it is interesting to note that all countries have similar trajectories on the behavior of automation, yet only the Anglo-Saxon contries experienced rapid income inequality following the 1980s.</p>
<div id="16" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#automation_hemous.csv is obtained from hemous_2025.jl</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>merged_ctry<span class="op">=</span>CSV.<span class="fu">read</span>(<span class="st">"/Users/juanjacobo/Documents/Documents/metroeconomica_2025/Code/automation_hemous.csv"</span>, DataFrame)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">with_theme</span>(<span class="fu">theme_latexfonts</span>()) <span class="cf">do</span>       </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    f <span class="op">=</span> <span class="fu">Figure</span>(size <span class="op">=</span> (<span class="fl">500</span>, <span class="fl">300</span>))</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">1</span>, <span class="fl">1</span>],</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>        xlabel <span class="op">=</span> <span class="st">"Period "</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>        title <span class="op">=</span> <span class="st">"Task-displacing effect of automation"</span>,</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lines!</span>(ax, merged_ctry.Year,merged_ctry.Auto95_USA, label <span class="op">=</span> <span class="st">"United States"</span>)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lines!</span>(ax, merged_ctry.Year,merged_ctry.Auto_95_Germany, label <span class="op">=</span> <span class="st">"Germany"</span>)</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lines!</span>(ax, merged_ctry.Year,merged_ctry.Auto_95_France, label <span class="op">=</span> <span class="st">"France"</span>)</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lines!</span>(ax, merged_ctry.Year,merged_ctry.Auto_95_GB, label <span class="op">=</span> <span class="st">"Great Bretain"</span>)</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">axislegend</span>(; position <span class="op">=</span> <span class="op">:</span>lt, nbanks <span class="op">=</span> <span class="fl">2</span>, framecolor <span class="op">=</span> (<span class="op">:</span>grey, <span class="fl">0.95</span>))</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    f</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<div>
<figure class="figure">
<p><img src="main_APP_code_files/figure-html/cell-9-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>With this result, I now make the theoretical and empirical measures of automation comparable.</p>
<div id="18" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Automation from Hemous 2025. Auto95 US</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>Mech<span class="op">=</span>merged_ctry.Auto95_USA <span class="co"># data  1963:2015</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>Xmech<span class="op">=</span>[<span class="fu">ones</span>(<span class="fl">46</span>) Mech[<span class="fl">1</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">7</span>]]</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>M̂<span class="fl">1</span> <span class="op">=</span> <span class="fu">Xmech*</span>(<span class="fu">inv</span>(Xmech<span class="op">'</span>Xmech)<span class="fu">*</span>(Xmech<span class="op">'</span>mm[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">9</span>]))</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>mM̂<span class="fl">2</span><span class="op">=-</span>M̂<span class="fl">1</span><span class="op">.+</span><span class="fl">1</span>;</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> <span class="fu">with_theme</span>(<span class="fu">theme_latexfonts</span>()) <span class="cf">do</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> <span class="fu">Figure</span>(size <span class="op">=</span> (<span class="fl">400</span>, <span class="fl">300</span>))</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> <span class="fu">Axis</span>(fig[<span class="fl">1</span>, <span class="fl">1</span>],</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>        xlabel <span class="op">=</span> <span class="st">"Empirical Automation"</span>,</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>        xgridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>        ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>        ylabel <span class="op">=</span> <span class="st">"Theoretical Automation"</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scatter!</span>(ax, Mech[<span class="fl">1</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">7</span>], M̂<span class="fl">1</span>)</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    fig  <span class="co"># &lt;-- return the figure explicitly!</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="fu">display</span>(f)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_APP_code_files/figure-html/cell-10-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>CairoMakie.Screen{PDF}</code></pre>
</div>
</div>
</section>
<section id="model-calibration" class="level2">
<h2 class="anchored" data-anchor-id="model-calibration">Model Calibration</h2>
<p>Now that we have all the data we need. We proceed to solve the OLS estimators in equation (25) in the main text. For this purpose, I first solve the steady-state assuming that <span class="math inline">\(T^{w}\)</span> perfectly tracks the noncyclical rate of unemployment. This is presented in the following code.</p>
<div id="20" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">### This code sets the initial values. </span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">init_v</span>(m,α,σ,λ<span class="fl">0</span>,ι,ρ,ṁ,Ṁ,γf,b_y,ξ,δ,Tw,Pr,A,Ak)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    k0<span class="op">=</span><span class="fl">10.95</span>; ku0<span class="op">=</span><span class="fl">11.3</span>; kn0<span class="op">=</span><span class="fl">10.65</span>; θ<span class="fl">0</span><span class="op">=</span><span class="fl">0.7</span>; θu0<span class="op">=</span><span class="fl">0.016</span>; θn0<span class="op">=</span><span class="fl">0.72</span>; g<span class="op">=</span>α<span class="op">*</span>Ṁ ;   UAL <span class="op">=</span>(<span class="fl">1</span><span class="fu">-exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="fu">*</span>(Ṁ<span class="op">-</span>ṁ))<span class="fu">*</span>(<span class="fu">exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="fu">*</span>(m<span class="op">+</span>ṁ))<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>(<span class="fu">exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span>m)<span class="op">-</span><span class="fl">1</span>));   λ <span class="op">=</span> λ<span class="fl">0</span> <span class="op">+</span> UAL; </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    qθ<span class="fl">0</span><span class="op">=</span>(<span class="fl">1</span><span class="op">+</span>θ<span class="fl">0</span><span class="op">^</span>(ι))<span class="op">^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span>ι); fθ<span class="fl">0</span><span class="op">=</span>qθ<span class="fl">0</span><span class="op">*</span>θ<span class="fl">0</span> ;   qθu0<span class="op">=</span> (<span class="fl">1</span><span class="op">+</span>θu0<span class="op">^</span>(ι))<span class="op">^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span>ι); fθu0 <span class="op">=</span> qθu0<span class="op">*</span>θu0; qθn0<span class="op">=</span>(<span class="fl">1</span><span class="op">+</span>θn0<span class="op">^</span>(ι))<span class="op">^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span>ι);  fθn0<span class="op">=</span>qθn0<span class="op">*</span>θn0;  L0<span class="op">=</span>fθ<span class="fl">0</span><span class="op">/</span>(fθ<span class="fl">0</span><span class="op">+</span>λ); Lu0<span class="op">=</span>fθu0<span class="op">/</span>(fθu0<span class="op">+</span>λ);</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    Ln0<span class="op">=</span>fθn0<span class="op">/</span>(fθn0<span class="op">+</span>λ); Γna0 <span class="op">=</span> γf<span class="op">/</span>(<span class="fl">1</span><span class="op">+</span>γf);  Γnb0 <span class="op">=</span> <span class="fu">γf*</span>(<span class="fl">1</span><span class="op">-</span>qθn0)<span class="op">/</span>(<span class="fl">1</span><span class="fu">+γf+qθn0*</span>(<span class="fl">1</span><span class="op">-</span>γf)); </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    Ψna0<span class="op">=</span><span class="fu">Γna0*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>fθn0)<span class="op">/</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>  Γna0<span class="op">*</span>fθn0); </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    Ψnb0<span class="op">=</span><span class="fu">Γnb0*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>fθn0)<span class="op">/</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>  Γnb0<span class="op">*</span>fθn0); </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    Ψ<span class="fl">0</span> <span class="op">=</span> ((Γna0<span class="op">*</span>θ<span class="fl">0</span><span class="op">+</span>Γnb0<span class="op">*</span>Tw)<span class="op">/</span>(Tw<span class="op">+</span>θ<span class="fl">0</span>))<span class="fu">*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>fθn0)<span class="op">/</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>   ((Γna0<span class="op">*</span>θ<span class="fl">0</span><span class="op">+</span>Γnb0<span class="op">*</span>Tw)<span class="op">/</span>(Tw<span class="op">+</span>θ<span class="fl">0</span>))<span class="op">*</span>fθn0); </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    Ψu0<span class="op">=</span><span class="fu">Γna0*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>fθu0)<span class="op">/</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>   Γna0<span class="op">*</span>fθu0);</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    y0 <span class="op">=</span> <span class="fu">A*</span>((<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="fu">*</span>(Ak<span class="op">*</span>k0)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ) <span class="op">+</span> ((<span class="fu">exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span>m)<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)))<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ))<span class="op">^</span>(σ<span class="op">/</span>(σ<span class="op">-</span><span class="fl">1</span>))</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    b <span class="op">=</span> b_y<span class="op">*</span>y0</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    ∂yk0<span class="op">=</span> (Ak<span class="op">*</span>A)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ)<span class="fu">*</span>(y0<span class="op">/</span>k0)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="op">*</span> (<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    ∂yL0 <span class="op">=</span> y0 <span class="op">-</span> k0<span class="op">*</span>∂yk0</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    yu0<span class="op">=</span><span class="fu">A*</span>((<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="fu">*</span>(Ak<span class="op">*</span>ku0)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ) <span class="op">+</span> ((<span class="fu">exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span>m)<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)))<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ))<span class="op">^</span>(σ<span class="op">/</span>(σ<span class="op">-</span><span class="fl">1</span>))</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    yn0<span class="op">=</span><span class="fu">A*</span>((<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="fu">*</span>(Ak<span class="op">*</span>kn0)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ) <span class="op">+</span> ((<span class="fu">exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span>m)<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)))<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ))<span class="op">^</span>(σ<span class="op">/</span>(σ<span class="op">-</span><span class="fl">1</span>))</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    ∂yku0 <span class="op">=</span> (Ak<span class="op">*</span>A)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ)<span class="fu">*</span>(yu0<span class="op">/</span>ku0)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="op">*</span> (<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ)</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    ∂ykn0 <span class="op">=</span> (Ak<span class="op">*</span>A)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ)<span class="fu">*</span>(yn0<span class="op">/</span>kn0)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="op">*</span> (<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ)</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    ∂yLu0 <span class="op">=</span> yu0 <span class="op">-</span> ku0<span class="op">*</span>∂yku0</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    ∂yLn0 <span class="op">=</span> yn0 <span class="op">-</span> kn0<span class="op">*</span>∂ykn0</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    wu0<span class="op">=</span>∂yLu0<span class="op">-</span> <span class="fu">ξ*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ)<span class="op">/</span>qθu0</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>    wn0<span class="op">=</span>∂yLn0<span class="op">-</span> <span class="fu">ξ*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ)<span class="op">/</span>qθn0</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    w0<span class="op">=</span>∂yL0<span class="op">-</span> <span class="fu">ξ*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ)<span class="op">/</span>qθ<span class="fl">0</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    μu0<span class="op">=</span>(∂yLu0<span class="op">/</span>wu0)<span class="op">-</span><span class="fl">1</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    μn0<span class="op">=</span>(∂yLn0<span class="op">/</span>wn0)<span class="op">-</span><span class="fl">1</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>    μ<span class="fl">0</span><span class="op">=</span>(∂yL0<span class="op">/</span>w0)<span class="op">-</span><span class="fl">1</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [w0,wu0,wn0,k0,ku0,kn0,μ<span class="fl">0</span>,θ<span class="fl">0</span>,θu0,θn0,fθ<span class="fl">0</span>,qθ<span class="fl">0</span>,fθu0,</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>    qθu0,fθn0,qθn0,L0,Lu0,Ln0,Γna0,Γnb0,Ψna0,Ψnb0,Ψ<span class="fl">0</span>,y0,∂yL0,</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>    ∂yk0,yu0,∂yLu0,yn0,∂yLn0,∂ykn0,∂yku0,μu0,μn0, Ψu0,UAL,g,λ,b]</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>    lbt<span class="op">=</span>[<span class="fl">0.15</span>,<span class="fl">0.26</span>,<span class="fl">0.05</span>,<span class="fl">0.0</span>,<span class="fl">0.0</span>,<span class="fl">0.0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0.0005</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0.35</span>,</span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0.0</span>,<span class="fl">0</span>,<span class="op">-</span><span class="fl">1</span>,<span class="op">-</span><span class="fl">0.2</span>,<span class="fl">0</span>,<span class="fl">0</span>] <span class="co"># lower bounds</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># upper bounds </span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>    ubt<span class="op">=</span>[<span class="fl">50</span>,<span class="fl">50</span>,<span class="fl">50</span>,<span class="fl">50</span>,<span class="fl">50</span>,<span class="fl">50</span>,<span class="fl">50</span>,<span class="fl">50</span>,<span class="fl">50</span>,<span class="fl">50</span>,</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>    <span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1.0001</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">6.5</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>    <span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10.0</span>,<span class="fl">1</span>,<span class="fl">0.1</span>,<span class="fl">0.1</span>,<span class="fl">0.1</span>,<span class="fl">1</span>]</span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a><span class="co">## Calibrate steady-state values assuming you know the NRU</span></span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">inverse_calibration</span>(Pr,m,b_y,L,Ṁ,γf,λ<span class="fl">0</span>)</span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>    x0<span class="op">=</span><span class="fu">init_v</span>(m,α,σ,λ<span class="fl">0</span>,ι,ρ,ṁ,Ṁ,γf,b_y,ξ,δ,<span class="fl">1.5</span>,Pr,A,Ak)</span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>    x0[<span class="fl">17</span>]<span class="op">=</span><span class="fl">1.75</span>  <span class="co"># this is just an initial guess</span></span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>    rlb <span class="op">=</span> <span class="fu">nlboxsolve</span>((FF,x) <span class="fu">-&gt;sys2!</span>(FF,x,m,α,σ,λ<span class="fl">0</span>,ι,ρ,ṁ,Ṁ,γf,b_y,ξ,δ,L,Pr,A,Ak,<span class="cn">φ</span>),</span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>  x0,lbt,ubt,xtol<span class="op">=</span><span class="fl">1e-4</span>,ftol<span class="op">=</span><span class="fl">1e-4</span>)</span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>  sol <span class="op">=</span>rlb.zero</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a> <span class="co"># aggregate wage; capital; rate of exploitation; labor-market tightness;</span></span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a> <span class="co"># rel. mobility of labor; output; worker power</span></span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a> w<span class="op">=</span>sol[<span class="fl">1</span>]; k<span class="op">=</span>sol[<span class="fl">4</span>];μ <span class="op">=</span> sol[<span class="fl">7</span>];θ<span class="op">=</span> sol[<span class="fl">8</span>];Tw <span class="op">=</span>sol[<span class="fl">17</span>];y <span class="op">=</span>sol[<span class="fl">25</span>];Ψn <span class="op">=</span>sol[<span class="fl">24</span>];b<span class="op">=</span>sol[<span class="fl">40</span>]</span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [w;k;μ;θ;Tw;y;Ψn;b]</span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>L_NRU<span class="op">=</span><span class="fl">0.01</span><span class="fu">*</span>(<span class="op">-</span>NRU<span class="op">.+</span><span class="fl">100</span>) <span class="co"># natural rate of unemployment</span></span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a>results_5H<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">8</span>,<span class="fl">46</span>)</span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a><span class="co">## Hypothesis: Changes in labor institutions  and technical change with NRU given</span></span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">46</span></span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a> results_5H[<span class="op">:</span>,i]<span class="op">=</span><span class="fu">inverse_calibration</span>(unions_HP[i<span class="op">+</span><span class="fl">15</span>],mM̂<span class="fl">2</span>[i],bcho_HP[i<span class="op">+</span><span class="fl">15</span>],</span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true" tabindex="-1"></a> L_NRU[i<span class="op">+</span><span class="fl">15</span>],Ṁs[i<span class="op">+</span><span class="fl">15</span>],γf,λ<span class="fl">0</span>) </span>
<span id="cb14-56"><a href="#cb14-56" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Results</span></span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true" tabindex="-1"></a>Ωs5H<span class="op">=</span>results_5H[<span class="fl">1</span>,<span class="op">:</span>]<span class="op">./</span>results_5H[<span class="fl">6</span>,<span class="op">:</span>] <span class="co"># Labor share</span></span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true" tabindex="-1"></a>kys5H<span class="op">=</span> results_5H[<span class="fl">2</span>,<span class="op">:</span>]<span class="op">./</span>results_5H[<span class="fl">6</span>,<span class="op">:</span>] <span class="op">*</span> (<span class="fl">1</span><span class="op">/</span><span class="cn">φ</span>) <span class="co"># capital-output</span></span>
<span id="cb14-60"><a href="#cb14-60" aria-hidden="true" tabindex="-1"></a>Vs5H <span class="op">=</span> results_5H[<span class="fl">4</span>,<span class="op">:</span>]<span class="op">.*</span>NRU[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>]<span class="op">./</span><span class="fl">100</span> <span class="co"># vacancy rate</span></span>
<span id="cb14-61"><a href="#cb14-61" aria-hidden="true" tabindex="-1"></a>tsw5H <span class="op">=</span> results_5H[<span class="fl">5</span>,<span class="op">:</span>]                <span class="co"># Threat of competition</span></span>
<span id="cb14-62"><a href="#cb14-62" aria-hidden="true" tabindex="-1"></a>μs5H <span class="op">=</span> results_5H[<span class="fl">3</span>,<span class="op">:</span>]                 <span class="co"># markup</span></span>
<span id="cb14-63"><a href="#cb14-63" aria-hidden="true" tabindex="-1"></a>r5H <span class="op">=</span> (μs5H<span class="op">./</span>(μs5H<span class="op">.+</span><span class="fl">1</span>))<span class="op">./</span>kys5H         <span class="co"># rate of profit</span></span>
<span id="cb14-64"><a href="#cb14-64" aria-hidden="true" tabindex="-1"></a>Ψn5H <span class="op">=</span> results_5H[<span class="fl">7</span>,<span class="op">:</span>]                 <span class="co"># Worker power</span></span>
<span id="cb14-65"><a href="#cb14-65" aria-hidden="true" tabindex="-1"></a>θ<span class="fl">5</span>sH <span class="op">=</span> results_5H[<span class="fl">4</span>,<span class="op">:</span>];                <span class="co"># labor market tightness</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="threat-of-competition-among-workers" class="level3">
<h3 class="anchored" data-anchor-id="threat-of-competition-among-workers">Threat of Competition Among Workers</h3>
<p>Given the ``ideal’’ value of the threat of competition among workers obtained above, I now check the hypothesis that the threat of competition is largely determined by what I referred to as the allowed for by civil society.</p>
<div id="22" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Unlike the previous hypotheses, the rate of unemployment is determined by the model and Tw is an exogenous parameter  </span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">sys2d!</span>(FF,x,m,α,σ,λ<span class="fl">0</span>,ι,ρ,ṁ,Ṁ,γf,b_y,ξ,δ,Tw,Pr,A,Ak,<span class="cn">φ</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    w<span class="op">=</span>x[<span class="fl">1</span>]; wu<span class="op">=</span>x[<span class="fl">2</span>]; wn<span class="op">=</span>x[<span class="fl">3</span>];  k<span class="op">=</span>x[<span class="fl">4</span>]; ku<span class="op">=</span>x[<span class="fl">5</span>]; kn<span class="op">=</span>x[<span class="fl">6</span>];</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    μ<span class="op">=</span>x[<span class="fl">7</span>]; θ <span class="op">=</span> x[<span class="fl">8</span>]; θu <span class="op">=</span> x[<span class="fl">9</span>]; θn <span class="op">=</span> x[<span class="fl">10</span>]; fθ <span class="op">=</span> x[<span class="fl">11</span>]; qθ <span class="op">=</span> x[<span class="fl">12</span>];</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    fθu <span class="op">=</span> x[<span class="fl">13</span>]; qθu <span class="op">=</span> x[<span class="fl">14</span>]; fθn<span class="op">=</span> x[<span class="fl">15</span>]; qθn <span class="op">=</span> x[<span class="fl">16</span>]; L <span class="op">=</span> x[<span class="fl">17</span>];</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    Lu<span class="op">=</span>x[<span class="fl">18</span>]; Ln<span class="op">=</span>x[<span class="fl">19</span>]; Γna <span class="op">=</span> x[<span class="fl">20</span>]; Γnb <span class="op">=</span> x[<span class="fl">21</span>]; Ψna <span class="op">=</span> x[<span class="fl">22</span>]; </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    Ψnb<span class="op">=</span>x[<span class="fl">23</span>] ; Ψn <span class="op">=</span> x[<span class="fl">24</span>]; y <span class="op">=</span> x[<span class="fl">25</span>]; ∂yL <span class="op">=</span> x[<span class="fl">26</span>]; ∂yk <span class="op">=</span> x[<span class="fl">27</span>];</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    yu <span class="op">=</span> x[<span class="fl">28</span>]; ∂yLu<span class="op">=</span>x[<span class="fl">29</span>]; yn <span class="op">=</span>x[<span class="fl">30</span>]; ∂yLn<span class="op">=</span>x[<span class="fl">31</span>]; ∂ykn<span class="op">=</span>x[<span class="fl">32</span>];∂yku<span class="op">=</span>x[<span class="fl">33</span>];</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    μu <span class="op">=</span> x[<span class="fl">34</span>]; μn <span class="op">=</span> x[<span class="fl">35</span>]; Ψu <span class="op">=</span> x[<span class="fl">36</span>]; UAL <span class="op">=</span> x[<span class="fl">37</span>]; g <span class="op">=</span> x[<span class="fl">38</span>]; λ <span class="op">=</span> x[<span class="fl">39</span>]; b<span class="op">=</span>x[<span class="fl">40</span>]</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">1</span>] <span class="op">=</span> qθ <span class="op">-</span> (<span class="fl">1</span><span class="op">+</span>θ<span class="op">^</span>(ι))<span class="op">^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span>ι)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">2</span>] <span class="op">=</span> fθ <span class="op">-</span> qθ<span class="op">*</span>θ</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">3</span>] <span class="op">=</span> L <span class="op">-</span> fθ<span class="op">/</span>(λ<span class="op">+</span>fθ)</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">4</span>] <span class="op">=</span> qθu <span class="op">-</span> (<span class="fl">1</span><span class="op">+</span>θu<span class="op">^</span>(ι))<span class="op">^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span>ι)</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">5</span>] <span class="op">=</span> fθu <span class="op">-</span> qθu<span class="op">*</span>θu</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">6</span>] <span class="op">=</span> Lu <span class="op">-</span> fθu<span class="op">/</span>(λ<span class="op">+</span>fθu)</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">7</span>] <span class="op">=</span> qθn <span class="op">-</span> (<span class="fl">1</span><span class="op">+</span>θn<span class="op">^</span>(ι))<span class="op">^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span>ι)</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">8</span>] <span class="op">=</span> fθn <span class="op">-</span> qθn<span class="op">*</span>θn</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">9</span>] <span class="op">=</span> <span class="fu">UAL-</span>(<span class="fl">1</span><span class="fu">-exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="fu">*</span>(Ṁ<span class="op">-</span>ṁ))<span class="fu">*</span>(<span class="fu">exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="fu">*</span>(m<span class="op">+</span>ṁ))<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>(<span class="fu">exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span>m)<span class="op">-</span><span class="fl">1</span>))</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">10</span>] <span class="op">=</span> λ <span class="op">-</span> λ<span class="fl">0</span> <span class="op">-</span> UAL</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">11</span>] <span class="op">=</span> g <span class="op">-</span> α<span class="op">*</span>Ṁ</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">12</span>] <span class="op">=</span> Ln<span class="op">-</span> fθn<span class="op">/</span>(λ<span class="op">+</span>fθn)</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">13</span>] <span class="op">=</span> Γna <span class="op">-</span> γf<span class="op">/</span>(<span class="fl">1</span><span class="op">+</span>γf)</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">14</span>] <span class="op">=</span> <span class="fu">Γnb-γf*</span>(<span class="fl">1</span><span class="op">-</span>qθn)<span class="op">/</span>(<span class="fl">1</span><span class="fu">+γf+qθn*</span>(<span class="fl">1</span><span class="op">-</span>γf))</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">15</span>] <span class="op">=</span> Ψna <span class="op">-</span> <span class="fu">Γna*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>fθn)<span class="op">/</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>  Γna<span class="op">*</span>fθn)</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">16</span>] <span class="op">=</span> Ψnb <span class="op">-</span> <span class="fu">Γnb*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>fθn)<span class="op">/</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>  Γnb<span class="op">*</span>fθn)</span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">17</span>] <span class="op">=</span> Ψn <span class="op">-</span> ((Tw<span class="op">*</span>Γnb <span class="op">+</span>θn<span class="op">*</span>Γna)<span class="op">/</span>(θn<span class="op">+</span>Tw))<span class="fu">*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>fθn)<span class="op">/</span>(<span class="fu">ρ-g+λ+</span>((Tw<span class="op">*</span>Γnb <span class="op">+</span>θn<span class="op">*</span>Γna)<span class="op">/</span>(θn<span class="op">+</span>Tw))<span class="op">*</span>fθn)</span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">18</span>] <span class="op">=</span> Ψu <span class="op">-</span> <span class="fu">Γna*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>fθu)<span class="op">/</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ<span class="op">+</span>   Γna<span class="op">*</span>fθu)</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">19</span>] <span class="op">=</span> y <span class="fu">-A*</span>((<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="fu">*</span>(Ak<span class="op">*</span>k)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ) <span class="op">+</span> ((<span class="fu">exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span>m)<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)))<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ))<span class="op">^</span>(σ<span class="op">/</span>(σ<span class="op">-</span><span class="fl">1</span>))</span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">20</span>] <span class="op">=</span> ∂yk <span class="op">-</span> (Ak<span class="op">*</span>A)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ)<span class="fu">*</span>(y<span class="op">/</span>k)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="op">*</span> (<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ)</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">21</span>] <span class="op">=</span> ∂yL <span class="op">-</span> (y <span class="op">-</span> k<span class="op">*</span>∂yk)</span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">22</span>] <span class="op">=</span> yu <span class="op">-</span> <span class="fu">A*</span>((<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="fu">*</span>(Ak<span class="op">*</span>ku)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ) <span class="op">+</span> ((<span class="fu">exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span>m)<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)))<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ))<span class="op">^</span>(σ<span class="op">/</span>(σ<span class="op">-</span><span class="fl">1</span>))</span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">23</span>] <span class="op">=</span> ∂yku <span class="op">-</span> (A<span class="op">*</span>Ak)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ)<span class="fu">*</span>(yu<span class="op">/</span>ku)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="op">*</span> (<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ)</span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">24</span>] <span class="op">=</span> ∂yLu <span class="op">-</span> (yu <span class="op">-</span> ku<span class="op">*</span>∂yku)</span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">25</span>] <span class="op">=</span> yn <span class="op">-</span> <span class="fu">A*</span>((<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="fu">*</span>(Ak<span class="op">*</span>kn)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ) <span class="op">+</span> ((<span class="fu">exp</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span>m)<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>(<span class="fu">α*</span>(σ<span class="op">-</span><span class="fl">1</span>)))<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ))<span class="op">^</span>(σ<span class="op">/</span>(σ<span class="op">-</span><span class="fl">1</span>))</span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">26</span>] <span class="op">=</span> ∂ykn <span class="op">-</span> (A<span class="op">*</span>Ak)<span class="op">^</span>((σ<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>σ)<span class="fu">*</span>(yn<span class="op">/</span>kn)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ) <span class="op">*</span> (<span class="fl">1</span><span class="op">-</span>m)<span class="op">^</span>(<span class="fl">1</span><span class="op">/</span>σ)</span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">27</span>] <span class="op">=</span> ∂yLn <span class="fu">-</span>(yn <span class="op">-</span> kn<span class="op">*</span>∂ykn)</span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">28</span>] <span class="op">=</span> wn <span class="fu">-</span>( b <span class="op">+</span> <span class="fu">Ψn*</span>(∂yLn<span class="op">-</span>b))</span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">29</span>] <span class="op">=</span> wn <span class="fu">-</span>( ∂yLn<span class="op">-</span> <span class="fu">ξ*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ)<span class="op">/</span>qθn)</span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">30</span>] <span class="op">=</span> wu <span class="fu">-</span>( b <span class="op">+</span> <span class="fu">Ψu*</span>(∂yLu<span class="op">-</span>b <span class="op">+</span> (ρ<span class="op">-</span>g<span class="op">+</span>λ)<span class="op">/</span>(ρ<span class="op">-</span>g) <span class="fu">*</span>(yu<span class="op">-</span>∂yLu)))</span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">31</span>] <span class="op">=</span> wu <span class="fu">-</span>( ∂yLu<span class="op">-</span> <span class="fu">ξ*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ)<span class="op">/</span>qθu )</span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">32</span>] <span class="op">=</span> w <span class="fu">-</span>(Pr<span class="op">*</span>wu <span class="op">+</span> (<span class="fl">1</span><span class="op">-</span>Pr)<span class="op">*</span>wn)</span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">33</span>] <span class="op">=</span> w <span class="fu">-</span>(∂yL<span class="op">-</span> <span class="fu">ξ*</span>(ρ<span class="op">-</span>g<span class="op">+</span>λ)<span class="op">/</span>qθ)</span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">34</span>] <span class="op">=</span> μ <span class="fu">-</span>((∂yL<span class="op">/</span>w)<span class="op">-</span><span class="fl">1</span>)</span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">35</span>] <span class="op">=</span> ∂yk <span class="op">-</span> <span class="fu">δ*</span>(<span class="fl">1</span><span class="op">+</span>μ)<span class="op">/</span><span class="cn">φ</span></span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">36</span>] <span class="op">=</span> μn <span class="fu">-</span>((∂yLn<span class="op">/</span>wn)<span class="op">-</span><span class="fl">1</span>)</span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">37</span>] <span class="op">=</span> μu <span class="op">-</span> ((∂yLu<span class="op">/</span>wu)<span class="op">-</span><span class="fl">1</span>)</span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">38</span>] <span class="op">=</span> ∂yku <span class="op">-</span> <span class="fu">δ*</span>(<span class="fl">1</span><span class="op">+</span>μu)<span class="op">/</span><span class="cn">φ</span></span>
<span id="cb15-49"><a href="#cb15-49" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">39</span>] <span class="op">=</span> ∂ykn <span class="op">-</span> <span class="fu">δ*</span>(<span class="fl">1</span><span class="op">+</span>μn)<span class="op">/</span><span class="cn">φ</span></span>
<span id="cb15-50"><a href="#cb15-50" aria-hidden="true" tabindex="-1"></a>    FF[<span class="fl">40</span>] <span class="op">=</span> b <span class="op">-</span> b_y<span class="op">*</span>y</span>
<span id="cb15-51"><a href="#cb15-51" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb15-52"><a href="#cb15-52" aria-hidden="true" tabindex="-1"></a><span class="co"># lower bounds</span></span>
<span id="cb15-53"><a href="#cb15-53" aria-hidden="true" tabindex="-1"></a>lbd<span class="op">=</span>[<span class="fl">0.15</span>,<span class="fl">0.26</span>,<span class="fl">0.05</span>,<span class="fl">0.0</span>,<span class="fl">0.0</span>,<span class="fl">0.0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0.005</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0.0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,</span>
<span id="cb15-54"><a href="#cb15-54" aria-hidden="true" tabindex="-1"></a><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0.0</span>,<span class="fl">0</span>,<span class="op">-</span>λ<span class="fl">0</span>,<span class="op">-</span><span class="fl">0.2</span>,<span class="fl">0</span>,<span class="fl">0</span>]</span>
<span id="cb15-55"><a href="#cb15-55" aria-hidden="true" tabindex="-1"></a><span class="co"># upper bounds</span></span>
<span id="cb15-56"><a href="#cb15-56" aria-hidden="true" tabindex="-1"></a>ubd<span class="op">=</span>[<span class="fl">50</span>,<span class="fl">50</span>,<span class="fl">50</span>,<span class="fl">50</span>,<span class="fl">50</span>,<span class="fl">50</span>,<span class="fl">50</span>,<span class="fl">50</span>,<span class="fl">50</span>,<span class="fl">50</span>,</span>
<span id="cb15-57"><a href="#cb15-57" aria-hidden="true" tabindex="-1"></a><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1.0001</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,</span>
<span id="cb15-58"><a href="#cb15-58" aria-hidden="true" tabindex="-1"></a><span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10.0</span>,<span class="fl">1</span>,<span class="fl">0.1</span>,<span class="fl">0.1</span>,<span class="fl">0.1</span>,<span class="fl">1</span>]</span>
<span id="cb15-59"><a href="#cb15-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-60"><a href="#cb15-60" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">inverse_calibrationd</span>(Pr,m,b_y,Tw,Ṁ,γf,λ<span class="fl">0</span>,<span class="cn">φ</span>)</span>
<span id="cb15-61"><a href="#cb15-61" aria-hidden="true" tabindex="-1"></a>x0d<span class="op">=</span><span class="fu">init_v</span>(m,α,σ,λ<span class="fl">0</span>,ι,ρ,ṁ,Ṁ,γf,b_y,ξ,δ,Tw,Pr,A,Ak)</span>
<span id="cb15-62"><a href="#cb15-62" aria-hidden="true" tabindex="-1"></a>rlb <span class="op">=</span> <span class="fu">nlboxsolve</span>((FF,x) <span class="fu">-&gt;sys2d!</span>(FF,x,m,α,σ,λ<span class="fl">0</span>,ι,ρ,ṁ,Ṁ,γf,b_y,ξ,δ,Tw,Pr,A,Ak,<span class="cn">φ</span>),</span>
<span id="cb15-63"><a href="#cb15-63" aria-hidden="true" tabindex="-1"></a>x0d,lbd,ubd,xtol<span class="op">=</span><span class="fl">1e-4</span>,ftol<span class="op">=</span><span class="fl">1e-4</span>)</span>
<span id="cb15-64"><a href="#cb15-64" aria-hidden="true" tabindex="-1"></a>sol <span class="op">=</span>rlb.zero</span>
<span id="cb15-65"><a href="#cb15-65" aria-hidden="true" tabindex="-1"></a>w<span class="op">=</span>sol[<span class="fl">1</span>]; k<span class="op">=</span>sol[<span class="fl">4</span>];μ <span class="op">=</span> sol[<span class="fl">7</span>]; θ<span class="op">=</span> sol[<span class="fl">8</span>]; L <span class="op">=</span> sol[<span class="fl">17</span>]; y <span class="op">=</span> sol[<span class="fl">25</span>]; Ψn <span class="op">=</span> sol[<span class="fl">24</span>]; b<span class="op">=</span>sol[<span class="fl">40</span>]</span>
<span id="cb15-66"><a href="#cb15-66" aria-hidden="true" tabindex="-1"></a><span class="cf">return</span> [w;k;μ;θ;L;y;Ψn;b]</span>
<span id="cb15-67"><a href="#cb15-67" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb15-68"><a href="#cb15-68" aria-hidden="true" tabindex="-1"></a><span class="co"># Estimate equation (25)</span></span>
<span id="cb15-69"><a href="#cb15-69" aria-hidden="true" tabindex="-1"></a>X_tw<span class="op">=</span>[<span class="fu">ones</span>(<span class="fl">46</span>) <span class="fu">log</span>.(((poor_welfare[<span class="fl">1</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">1</span>]))) <span class="fu">log</span>.(yl[<span class="fl">15</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">1</span>])]</span>
<span id="cb15-70"><a href="#cb15-70" aria-hidden="true" tabindex="-1"></a>β_tw<span class="op">=</span><span class="fu">inv</span>(X_tw<span class="op">'</span>X_tw)<span class="fu">*</span>(X_tw<span class="op">'</span><span class="fu">log</span>.(tsw5H))</span>
<span id="cb15-71"><a href="#cb15-71" aria-hidden="true" tabindex="-1"></a>tsw_indiriect<span class="op">=</span>X_tw<span class="op">*</span>β_tw<span class="co"># sol[1].*cdf(Normal(0,1), X_tw*β̂_b)</span></span>
<span id="cb15-72"><a href="#cb15-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-73"><a href="#cb15-73" aria-hidden="true" tabindex="-1"></a><span class="fu">with_theme</span>(<span class="fu">theme_latexfonts</span>()) <span class="cf">do</span>       </span>
<span id="cb15-74"><a href="#cb15-74" aria-hidden="true" tabindex="-1"></a>    f <span class="op">=</span> <span class="fu">Figure</span>(size <span class="op">=</span> (<span class="fl">500</span>, <span class="fl">300</span>))</span>
<span id="cb15-75"><a href="#cb15-75" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">1</span>, <span class="fl">1</span>],</span>
<span id="cb15-76"><a href="#cb15-76" aria-hidden="true" tabindex="-1"></a>        xlabel <span class="op">=</span> <span class="st">"Period "</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb15-77"><a href="#cb15-77" aria-hidden="true" tabindex="-1"></a>        title <span class="op">=</span> <span class="st">"Threat of competition among workers"</span>,</span>
<span id="cb15-78"><a href="#cb15-78" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb15-79"><a href="#cb15-79" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lines!</span>(ax,time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>],<span class="fu">exp</span>.(tsw_indiriect), label <span class="op">=</span> <span class="st">"Hypothesis"</span>)</span>
<span id="cb15-80"><a href="#cb15-80" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>],tsw5H, label <span class="op">=</span> <span class="st">"Ideal"</span>)</span>
<span id="cb15-81"><a href="#cb15-81" aria-hidden="true" tabindex="-1"></a>    <span class="fu">axislegend</span>(; position <span class="op">=</span> <span class="op">:</span>lt, nbanks <span class="op">=</span> <span class="fl">2</span>, framecolor <span class="op">=</span> (<span class="op">:</span>grey, <span class="fl">0.95</span>))</span>
<span id="cb15-82"><a href="#cb15-82" aria-hidden="true" tabindex="-1"></a>    f</span>
<span id="cb15-83"><a href="#cb15-83" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<div>
<figure class="figure">
<p><img src="main_APP_code_files/figure-html/cell-12-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="calibration-details-and-results" class="level3">
<h3 class="anchored" data-anchor-id="calibration-details-and-results">Calibration Details and Results</h3>
<p>With this result, I now present the code generating the results of the automation and institutions and automation hypotheses in the main text.</p>
<div id="24" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Automation alone: Task-displacing and labor-augmenting technical change</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>results_1dH<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">8</span>,<span class="fl">46</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">46</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    results_1dH[<span class="op">:</span>,i]<span class="op">=</span><span class="fu">inverse_calibrationd</span>(<span class="fu">mean</span>(unions_HP[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>]),mM̂<span class="fl">2</span>[i],</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mean</span>(bcho_HP[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>]),<span class="fu">mean</span>(tsw5H),Ṁs[i<span class="op">+</span><span class="fl">15</span>],γf,λ<span class="fl">0</span>,<span class="cn">φ</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Automation and labor augmneting technical change</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>ΩsdH<span class="op">=</span>results_1dH[<span class="fl">1</span>,<span class="op">:</span>]<span class="op">./</span>results_1dH[<span class="fl">6</span>,<span class="op">:</span>]</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>kysdH<span class="op">=</span> results_1dH[<span class="fl">2</span>,<span class="op">:</span>]<span class="op">./</span>results_1dH[<span class="fl">6</span>,<span class="op">:</span>] <span class="op">*</span> (<span class="fl">1</span><span class="op">/</span><span class="cn">φ</span>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>VsdH <span class="op">=</span> results_1dH[<span class="fl">4</span>,<span class="op">:</span>]<span class="op">.*</span>(<span class="op">-</span>results_1dH[<span class="fl">5</span>,<span class="op">:</span>]<span class="op">.+</span><span class="fl">1</span>)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>UsdH <span class="op">=</span> <span class="op">-</span>results_1dH[<span class="fl">5</span>,<span class="op">:</span>]<span class="op">.+</span><span class="fl">1</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>μsdH <span class="op">=</span> results_1dH[<span class="fl">3</span>,<span class="op">:</span>]</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>θsdH<span class="op">=</span> results_1dH[<span class="fl">4</span>,<span class="op">:</span>]</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>rsdH <span class="op">=</span> (<span class="fl">12</span><span class="op">*</span>μsdH<span class="op">./</span>(μsdH<span class="op">.+</span><span class="fl">1</span>))<span class="op">./</span>kysdH</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>ΨndH<span class="op">=</span> results_1dH[<span class="fl">7</span>,<span class="op">:</span>];</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>results_2dH<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">8</span>,<span class="fl">46</span>)</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Institutions and automation</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">46</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>    results_2dH[<span class="op">:</span>,i]<span class="op">=</span><span class="fu">inverse_calibrationd</span>(unions[i<span class="op">+</span><span class="fl">15</span>],mM̂<span class="fl">2</span>[i],b_chodorow[i<span class="op">+</span><span class="fl">15</span>],</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">exp</span>.(tsw_indiriect)[i],Ṁs[i<span class="op">+</span><span class="fl">15</span>],γf,λ<span class="fl">0</span>,<span class="cn">φ</span>)</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>Ωsd2H<span class="op">=</span>results_2dH[<span class="fl">1</span>,<span class="op">:</span>]<span class="op">./</span>results_2dH[<span class="fl">6</span>,<span class="op">:</span>]</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>kysd2H<span class="op">=</span> results_2dH[<span class="fl">2</span>,<span class="op">:</span>]<span class="op">./</span>results_2dH[<span class="fl">6</span>,<span class="op">:</span>] <span class="op">*</span> (<span class="fl">1</span><span class="op">/</span><span class="cn">φ</span>)</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>Vsd2H <span class="op">=</span> results_2dH[<span class="fl">4</span>,<span class="op">:</span>]<span class="op">.*</span>(<span class="op">-</span>results_2dH[<span class="fl">5</span>,<span class="op">:</span>]<span class="op">.+</span><span class="fl">1</span>)</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>Usd2H <span class="op">=</span> <span class="op">-</span>results_2dH[<span class="fl">5</span>,<span class="op">:</span>]<span class="op">.+</span><span class="fl">1</span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>μsd2H <span class="op">=</span> results_2dH[<span class="fl">3</span>,<span class="op">:</span>]</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>θsd2H<span class="op">=</span> results_2dH[<span class="fl">4</span>,<span class="op">:</span>]</span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>rsd2H <span class="op">=</span> (<span class="fl">12</span><span class="op">*</span>μsd2H<span class="op">./</span>(μsd2H<span class="op">.+</span><span class="fl">1</span>))<span class="op">./</span>kysd2H</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>Ψnd2H<span class="op">=</span> results_2dH[<span class="fl">7</span>,<span class="op">:</span>];</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Graphs</span></span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a><span class="fu">with_theme</span>(<span class="fu">theme_latexfonts</span>()) <span class="cf">do</span>       </span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>    f <span class="op">=</span> <span class="fu">Figure</span>(size <span class="op">=</span> (<span class="fl">900</span>, <span class="fl">600</span>))</span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">1</span>, <span class="fl">1</span>],</span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>        xlabel <span class="op">=</span> <span class="st">"Period "</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>        title <span class="op">=</span> <span class="st">"Labor share"</span>,</span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], ΩsdH, label<span class="op">=</span><span class="st">"Automation"</span>)</span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>       <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(Ωsd2H,<span class="fl">1000</span>), label<span class="op">=</span><span class="st">"Auto. and inst."</span>)</span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>          <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], w_share[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">10</span>], label<span class="op">=</span><span class="st">"Data"</span>)</span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>           <span class="fu">axislegend</span>(; position <span class="op">=</span> <span class="op">:</span>lb, nbanks <span class="op">=</span> <span class="fl">1</span>, framecolor <span class="op">=</span> (<span class="op">:</span>gray, <span class="fl">0.5</span>))</span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">1</span>, <span class="fl">2</span>],</span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>    xlabel <span class="op">=</span> <span class="st">"Period "</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>    title <span class="op">=</span> <span class="st">"Markup"</span>,</span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a> <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], μsdH)</span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a>       <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(μsd2H,<span class="fl">1000</span>))</span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a>          <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], μ_data[<span class="fl">17</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">8</span>])</span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a>  ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">2</span>, <span class="fl">1</span>],</span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a>  xlabel <span class="op">=</span> <span class="st">"Period "</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a>  title <span class="op">=</span> <span class="st">"Capital-output ratio"</span>,</span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a><span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], kysdH<span class="op">./</span><span class="fl">12</span>)</span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a>       <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], kysd2H<span class="op">./</span><span class="fl">12</span>)</span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a>          <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>],KY[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">9</span>])</span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">2</span>, <span class="fl">2</span>],</span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a>xlabel <span class="op">=</span> <span class="st">"Period"</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb16-60"><a href="#cb16-60" aria-hidden="true" tabindex="-1"></a>title <span class="op">=</span> <span class="st">"Equilibrium Unemployment"</span>,</span>
<span id="cb16-61"><a href="#cb16-61" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-62"><a href="#cb16-62" aria-hidden="true" tabindex="-1"></a> <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], UsdH)</span>
<span id="cb16-63"><a href="#cb16-63" aria-hidden="true" tabindex="-1"></a>       <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(Usd2H,<span class="fl">1000</span>))</span>
<span id="cb16-64"><a href="#cb16-64" aria-hidden="true" tabindex="-1"></a>          <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], NRU[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>]<span class="op">./</span><span class="fl">100</span>)</span>
<span id="cb16-65"><a href="#cb16-65" aria-hidden="true" tabindex="-1"></a>    f</span>
<span id="cb16-66"><a href="#cb16-66" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<div>
<figure class="figure">
<p><img src="main_APP_code_files/figure-html/cell-13-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="robustness-results" class="level1">
<h1>Robustness Results</h1>
<p>In this section, I use the 90th percentile data in <span class="citation" data-cites="hemous2025induced">Hémous et al. (<a href="#ref-hemous2025induced" role="doc-biblioref">2025</a>)</span>, the automation measure in <span class="citation" data-cites="mann2021benign">Mann and Püttmann (<a href="#ref-mann2021benign" role="doc-biblioref">2023</a>)</span>, and different measures of welfare policy as alternatives to the automation and institutions hypothesis in the main text. Here, I only contrast the baseline results with the alternatives explored below.</p>
<section id="alternative-measures-of-welfare" class="level2">
<h2 class="anchored" data-anchor-id="alternative-measures-of-welfare">Alternative Measures of Welfare</h2>
<p>The following graph compares the baseline results of the main paper with the different alternatives of welfare. The key results of the paper remain unchanged. The only critical variation is that—as expected—the increase in productivity required to offset the effect of welfare on labor supply is lower in the baseline measure. This result is reasonable because the baseline measure only computes welfare assistance that primarily targets the poor, making it easier to induce people to work when there is less help available to lift them out of poverty.</p>
<div id="26" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Instead of using </span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>poor_measures</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">alternative_measures</span>(unions,mM̂<span class="fl">2</span>,b_chodorow,poor_measure,yl,Ṁs,γf,λ<span class="fl">0</span>,<span class="cn">φ</span>,tsw)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>X_tw<span class="op">=</span>[<span class="fu">ones</span>(<span class="fl">46</span>) <span class="fu">log</span>.(((poor_measure[<span class="fl">1</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">1</span>]))) <span class="fu">log</span>.(yl[<span class="fl">15</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">1</span>])]</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>β_tw<span class="op">=</span><span class="fu">inv</span>(X_tw<span class="op">'</span>X_tw)<span class="fu">*</span>(X_tw<span class="op">'</span><span class="fu">log</span>.(tsw))</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>tsw_indiriect<span class="op">=</span>X_tw<span class="op">*</span>β_tw </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>results_alt<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">8</span>,<span class="fl">46</span>)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Institutions and automation</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">46</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    results_alt[<span class="op">:</span>,i]<span class="op">=</span><span class="fu">inverse_calibrationd</span>(unions[i<span class="op">+</span><span class="fl">15</span>],mM̂<span class="fl">2</span>[i],b_chodorow[i<span class="op">+</span><span class="fl">15</span>],</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">exp</span>.(tsw_indiriect)[i],Ṁs[i<span class="op">+</span><span class="fl">15</span>],γf,λ<span class="fl">0</span>,<span class="cn">φ</span>)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>Ω<span class="op">=</span>results_alt[<span class="fl">1</span>,<span class="op">:</span>]<span class="op">./</span>results_alt[<span class="fl">6</span>,<span class="op">:</span>]</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>ky<span class="op">=</span> (results_alt[<span class="fl">2</span>,<span class="op">:</span>]<span class="op">./</span>results_alt[<span class="fl">6</span>,<span class="op">:</span>] <span class="op">*</span> (<span class="fl">1</span><span class="op">/</span><span class="cn">φ</span>))<span class="op">./</span><span class="fl">12</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>V <span class="op">=</span> results_alt[<span class="fl">4</span>,<span class="op">:</span>]<span class="op">.*</span>(<span class="op">-</span>results_alt[<span class="fl">5</span>,<span class="op">:</span>]<span class="op">.+</span><span class="fl">1</span>)</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>U <span class="op">=</span> <span class="op">-</span>results_alt[<span class="fl">5</span>,<span class="op">:</span>]<span class="op">.+</span><span class="fl">1</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>μ <span class="op">=</span> results_alt[<span class="fl">3</span>,<span class="op">:</span>]</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>θ<span class="op">=</span> results_alt[<span class="fl">4</span>,<span class="op">:</span>]</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a><span class="cf">return</span> Ω,μ,ky,U,<span class="fu">exp</span>.(tsw_indiriect),β_tw[<span class="fl">3</span>]<span class="op">/</span>β_tw[<span class="fl">2</span>]</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>sol_plus_TANF<span class="op">=</span><span class="fu">alternative_measures</span>(unions,mM̂<span class="fl">2</span>,b_chodorow,poor_measures[<span class="op">:</span>,<span class="fl">2</span>],</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>yl,Ṁs,γf,λ<span class="fl">0</span>,<span class="cn">φ</span>,tsw5H)</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>sol_plus_Medicaid<span class="op">=</span><span class="fu">alternative_measures</span>(unions,mM̂<span class="fl">2</span>,b_chodorow,poor_measures[<span class="op">:</span>,<span class="fl">3</span>],</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>yl,Ṁs,γf,λ<span class="fl">0</span>,<span class="cn">φ</span>,tsw5H)</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>sol_plus_tax<span class="op">=</span><span class="fu">alternative_measures</span>(unions,mM̂<span class="fl">2</span>,b_chodorow,poor_measures[<span class="op">:</span>,<span class="fl">4</span>],</span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>yl,Ṁs,γf,λ<span class="fl">0</span>,<span class="cn">φ</span>,tsw5H);</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a><span class="fu">with_theme</span>(<span class="fu">theme_latexfonts</span>()) <span class="cf">do</span>       </span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>    f <span class="op">=</span> <span class="fu">Figure</span>(size <span class="op">=</span> (<span class="fl">900</span>, <span class="fl">600</span>))</span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">1</span>, <span class="fl">1</span>],</span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>        xlabel <span class="op">=</span> <span class="st">"Period "</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>        title <span class="op">=</span> <span class="st">"Labor share"</span>,</span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>       <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(Ωsd2H,<span class="fl">1000</span>), label<span class="op">=</span><span class="st">"Baseline"</span>)</span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>          <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(sol_plus_TANF[<span class="fl">1</span>],<span class="fl">1000</span>), label<span class="op">=</span><span class="st">"Plus TANF"</span>)</span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>           <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(sol_plus_Medicaid[<span class="fl">1</span>],<span class="fl">1000</span>), label<span class="op">=</span><span class="st">"Plus Medicaid"</span>)</span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>           <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(sol_plus_tax[<span class="fl">1</span>],<span class="fl">1000</span>), label<span class="op">=</span><span class="st">"Plus Tax Exceptions"</span>)</span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>           <span class="fu">axislegend</span>(; position <span class="op">=</span> <span class="op">:</span>lb, nbanks <span class="op">=</span> <span class="fl">1</span>, framecolor <span class="op">=</span> (<span class="op">:</span>grey, <span class="fl">0.95</span>))</span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">1</span>, <span class="fl">2</span>],</span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a>    xlabel <span class="op">=</span> <span class="st">"Period "</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>    title <span class="op">=</span> <span class="st">"Markup"</span>,</span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a>       <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(μsd2H,<span class="fl">1000</span>))</span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a>           <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(sol_plus_TANF[<span class="fl">2</span>],<span class="fl">1000</span>), label<span class="op">=</span><span class="st">"Plus TANF"</span>)</span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a>           <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(sol_plus_Medicaid[<span class="fl">2</span>],<span class="fl">1000</span>), label<span class="op">=</span><span class="st">"Plus Medicaid"</span>)</span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a>           <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(sol_plus_tax[<span class="fl">2</span>],<span class="fl">1000</span>), label<span class="op">=</span><span class="st">"Plus Tax Exceptions"</span>)</span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a>  ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">2</span>, <span class="fl">1</span>],</span>
<span id="cb17-51"><a href="#cb17-51" aria-hidden="true" tabindex="-1"></a>  xlabel <span class="op">=</span> <span class="st">"Period "</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb17-52"><a href="#cb17-52" aria-hidden="true" tabindex="-1"></a>  title <span class="op">=</span> <span class="st">"Threat of competition"</span>,</span>
<span id="cb17-53"><a href="#cb17-53" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb17-54"><a href="#cb17-54" aria-hidden="true" tabindex="-1"></a>       <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(<span class="fu">exp</span>.(tsw_indiriect),<span class="fl">1000</span>))</span>
<span id="cb17-55"><a href="#cb17-55" aria-hidden="true" tabindex="-1"></a>            <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(sol_plus_TANF[<span class="fl">5</span>],<span class="fl">1000</span>), label<span class="op">=</span><span class="st">"Plus TANF"</span>)</span>
<span id="cb17-56"><a href="#cb17-56" aria-hidden="true" tabindex="-1"></a>           <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(sol_plus_Medicaid[<span class="fl">5</span>],<span class="fl">1000</span>), label<span class="op">=</span><span class="st">"Plus Medicaid"</span>)</span>
<span id="cb17-57"><a href="#cb17-57" aria-hidden="true" tabindex="-1"></a>           <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(sol_plus_tax[<span class="fl">5</span>],<span class="fl">1000</span>), label<span class="op">=</span><span class="st">"Plus Tax Exceptions"</span>)</span>
<span id="cb17-58"><a href="#cb17-58" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">2</span>, <span class="fl">2</span>],</span>
<span id="cb17-59"><a href="#cb17-59" aria-hidden="true" tabindex="-1"></a>xlabel <span class="op">=</span> <span class="st">"Period"</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb17-60"><a href="#cb17-60" aria-hidden="true" tabindex="-1"></a>title <span class="op">=</span> <span class="st">"Increase in productivity required to offset welfare"</span>,</span>
<span id="cb17-61"><a href="#cb17-61" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb17-62"><a href="#cb17-62" aria-hidden="true" tabindex="-1"></a>       <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">-ones</span>(<span class="fl">46</span>)<span class="op">.*</span>(β_tw[<span class="fl">3</span>]<span class="op">/</span>β_tw[<span class="fl">2</span>]))</span>
<span id="cb17-63"><a href="#cb17-63" aria-hidden="true" tabindex="-1"></a>             <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">-ones</span>(<span class="fl">46</span>)<span class="op">.*</span>sol_plus_TANF[<span class="fl">6</span>], label<span class="op">=</span><span class="st">"Plus TANF"</span>)</span>
<span id="cb17-64"><a href="#cb17-64" aria-hidden="true" tabindex="-1"></a>           <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>],  <span class="fu">-ones</span>(<span class="fl">46</span>)<span class="op">.*</span>sol_plus_Medicaid[<span class="fl">6</span>], label<span class="op">=</span><span class="st">"Plus Medicaid"</span>)</span>
<span id="cb17-65"><a href="#cb17-65" aria-hidden="true" tabindex="-1"></a>           <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">-ones</span>(<span class="fl">46</span>)<span class="op">.*</span>sol_plus_tax[<span class="fl">6</span>],label<span class="op">=</span><span class="st">"Plus Tax Exceptions"</span>)</span>
<span id="cb17-66"><a href="#cb17-66" aria-hidden="true" tabindex="-1"></a>    f</span>
<span id="cb17-67"><a href="#cb17-67" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<div>
<figure class="figure">
<p><img src="main_APP_code_files/figure-html/cell-14-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="th-percentile-automation-data-in-hemous2025induced" class="level2">
<h2 class="anchored" data-anchor-id="th-percentile-automation-data-in-hemous2025induced">90th percentile automation data in <span class="citation" data-cites="hemous2025induced">Hémous et al. (<a href="#ref-hemous2025induced" role="doc-biblioref">2025</a>)</span></h2>
<p>The following plot repeats the same code of the main text, replacing the automation measure using the 95th percentile for the 90th percentile measure in <span class="citation" data-cites="hemous2025induced">Hémous et al. (<a href="#ref-hemous2025induced" role="doc-biblioref">2025</a>)</span>. The code and results are depicted in the following graph.</p>
<div id="28" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>merged_ctry<span class="op">=</span>CSV.<span class="fu">read</span>(<span class="st">"/Users/juanjacobo/Documents/Documents/metroeconomica_2025/Code/automation_hemous90.csv"</span>, DataFrame)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co">## Automation from Hemous 2025. Auto95 US</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>Mech90<span class="op">=</span>merged_ctry.Auto95_USA <span class="co"># data  1963:2015</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>Xmech<span class="op">=</span>[<span class="fu">ones</span>(<span class="fl">46</span>) Mech90[<span class="fl">1</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">7</span>]]</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>M̂<span class="fl">90</span> <span class="op">=</span> <span class="fu">Xmech*</span>(<span class="fu">inv</span>(Xmech<span class="op">'</span>Xmech)<span class="fu">*</span>(Xmech<span class="op">'</span>mm[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">9</span>]))</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>mM̂<span class="fl">90</span><span class="op">=-</span>M̂<span class="fl">90</span><span class="op">.+</span><span class="fl">1</span>;</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> <span class="fu">with_theme</span>(<span class="fu">theme_latexfonts</span>()) <span class="cf">do</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> <span class="fu">Figure</span>(size <span class="op">=</span> (<span class="fl">450</span>, <span class="fl">300</span>))</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> <span class="fu">Axis</span>(fig[<span class="fl">1</span>, <span class="fl">1</span>],</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>        xlabel <span class="op">=</span> <span class="st">"Empirical Automation (90th percentile)"</span>,</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>        xgridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>        ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>        ylabel <span class="op">=</span> <span class="st">"Theoretical measures"</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scatter!</span>(ax, Mech90[<span class="fl">1</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">7</span>], M̂<span class="fl">90</span>, label<span class="op">=</span><span class="st">"90th percentile"</span>)</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scatter!</span>(ax, Mech[<span class="fl">1</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">7</span>], M̂<span class="fl">90</span>, label<span class="op">=</span><span class="st">"95th percentile"</span>)</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">axislegend</span>(; position <span class="op">=</span> <span class="op">:</span>rb, nbanks <span class="op">=</span> <span class="fl">1</span>, framecolor <span class="op">=</span> (<span class="op">:</span>grey, <span class="fl">0.95</span>))</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>    fig  <span class="co"># &lt;-- return the figure explicitly!</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a><span class="fu">display</span>(f)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_APP_code_files/figure-html/cell-15-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>CairoMakie.Screen{PDF}</code></pre>
</div>
</div>
<div id="30" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Estimate ideal Tw with new measure of automation</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>results_H90<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">8</span>,<span class="fl">46</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">## Hypothesis: Changes in labor institutions  and technical change with NRU given</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">46</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a> results_H90[<span class="op">:</span>,i]<span class="op">=</span><span class="fu">inverse_calibration</span>(unions_HP[i<span class="op">+</span><span class="fl">15</span>],mM̂<span class="fl">90</span>[i],bcho_HP[i<span class="op">+</span><span class="fl">15</span>],</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a> L_NRU[i<span class="op">+</span><span class="fl">15</span>],Ṁs[i<span class="op">+</span><span class="fl">15</span>],γf,λ<span class="fl">0</span>) </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Results</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>ΩsH90<span class="op">=</span>results_H90[<span class="fl">1</span>,<span class="op">:</span>]<span class="op">./</span>results_H90[<span class="fl">6</span>,<span class="op">:</span>] <span class="co"># Labor share</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>kysH90<span class="op">=</span> results_H90[<span class="fl">2</span>,<span class="op">:</span>]<span class="op">./</span>results_H90[<span class="fl">6</span>,<span class="op">:</span>] <span class="op">*</span> (<span class="fl">1</span><span class="op">/</span><span class="cn">φ</span>) <span class="co"># capital-output</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>tswH90 <span class="op">=</span> results_H90[<span class="fl">5</span>,<span class="op">:</span>]                <span class="co"># Threat of competition</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>μsH90 <span class="op">=</span> results_H90[<span class="fl">3</span>,<span class="op">:</span>]                 <span class="co"># markup</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Steap 2: Use OLS estimators of welfare policy</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Estimate equation (25)</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>X_tw90<span class="op">=</span>[<span class="fu">ones</span>(<span class="fl">46</span>) <span class="fu">log</span>.(((poor_welfare[<span class="fl">1</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">1</span>]))) <span class="fu">log</span>.(yl[<span class="fl">15</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">1</span>])]</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>β_tw90<span class="op">=</span><span class="fu">inv</span>(X_tw<span class="op">'</span>X_tw)<span class="fu">*</span>(X_tw<span class="op">'</span><span class="fu">log</span>.(tswH90))</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>tsw_indiriect90<span class="op">=</span>X_tw90<span class="op">*</span>β_tw90</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Automation alone: Task-displacing and labor-augmenting technical change</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>results_1dH90<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">8</span>,<span class="fl">46</span>)</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">46</span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>    results_1dH90[<span class="op">:</span>,i]<span class="op">=</span><span class="fu">inverse_calibrationd</span>(<span class="fu">mean</span>(unions_HP[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>]),mM̂<span class="fl">90</span>[i],</span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mean</span>(bcho_HP[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>]),<span class="fu">mean</span>(tswH90),Ṁs[i<span class="op">+</span><span class="fl">15</span>],γf,λ<span class="fl">0</span>,<span class="cn">φ</span>)</span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Automation and labor augmneting technical change</span></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>ΩsdH90<span class="op">=</span>results_1dH90[<span class="fl">1</span>,<span class="op">:</span>]<span class="op">./</span>results_1dH90[<span class="fl">6</span>,<span class="op">:</span>]</span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>kysdH90<span class="op">=</span> results_1dH90[<span class="fl">2</span>,<span class="op">:</span>]<span class="op">./</span>results_1dH90[<span class="fl">6</span>,<span class="op">:</span>] <span class="op">*</span> (<span class="fl">1</span><span class="op">/</span><span class="cn">φ</span>)</span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>UsdH90 <span class="op">=</span> <span class="op">-</span>results_1dH90[<span class="fl">5</span>,<span class="op">:</span>]<span class="op">.+</span><span class="fl">1</span></span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>μsdH90 <span class="op">=</span> results_1dH90[<span class="fl">3</span>,<span class="op">:</span>]</span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>results_2dH90<span class="op">=</span><span class="fu">zeros</span>(<span class="fl">8</span>,<span class="fl">46</span>)</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Institutions and automation</span></span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">46</span></span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>    results_2dH90[<span class="op">:</span>,i]<span class="op">=</span><span class="fu">inverse_calibrationd</span>(unions[i<span class="op">+</span><span class="fl">15</span>],mM̂<span class="fl">90</span>[i],b_chodorow[i<span class="op">+</span><span class="fl">15</span>],</span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">exp</span>.(tsw_indiriect90)[i],Ṁs[i<span class="op">+</span><span class="fl">15</span>],γf,λ<span class="fl">0</span>,<span class="cn">φ</span>)</span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a>Ωsd2H90<span class="op">=</span>results_2dH90[<span class="fl">1</span>,<span class="op">:</span>]<span class="op">./</span>results_2dH90[<span class="fl">6</span>,<span class="op">:</span>]</span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a>kysd2H90<span class="op">=</span> results_2dH90[<span class="fl">2</span>,<span class="op">:</span>]<span class="op">./</span>results_2dH90[<span class="fl">6</span>,<span class="op">:</span>] <span class="op">*</span> (<span class="fl">1</span><span class="op">/</span><span class="cn">φ</span>)</span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a>Usd2H90 <span class="op">=</span> <span class="op">-</span>results_2dH90[<span class="fl">5</span>,<span class="op">:</span>]<span class="op">.+</span><span class="fl">1</span></span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a>μsd2H90 <span class="op">=</span> results_2dH90[<span class="fl">3</span>,<span class="op">:</span>]</span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Graphs</span></span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a><span class="fu">with_theme</span>(<span class="fu">theme_latexfonts</span>()) <span class="cf">do</span>       </span>
<span id="cb20-47"><a href="#cb20-47" aria-hidden="true" tabindex="-1"></a>    f <span class="op">=</span> <span class="fu">Figure</span>(size <span class="op">=</span> (<span class="fl">900</span>, <span class="fl">600</span>))</span>
<span id="cb20-48"><a href="#cb20-48" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">1</span>, <span class="fl">1</span>],</span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a>        xlabel <span class="op">=</span> <span class="st">"Period "</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a>        title <span class="op">=</span> <span class="st">"Labor share"</span>,</span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-52"><a href="#cb20-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], ΩsdH, label<span class="op">=</span><span class="st">"Automation (baseline)"</span>)</span>
<span id="cb20-53"><a href="#cb20-53" aria-hidden="true" tabindex="-1"></a>          <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], ΩsdH90, label<span class="op">=</span><span class="st">"Automation (90th)"</span>)</span>
<span id="cb20-54"><a href="#cb20-54" aria-hidden="true" tabindex="-1"></a>       <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(Ωsd2H,<span class="fl">1000</span>), label<span class="op">=</span><span class="st">"Auto. and inst. (baseline)"</span>)</span>
<span id="cb20-55"><a href="#cb20-55" aria-hidden="true" tabindex="-1"></a>       <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(Ωsd2H90,<span class="fl">1000</span>), label<span class="op">=</span><span class="st">"Auto. and inst. (90th)"</span>)</span>
<span id="cb20-56"><a href="#cb20-56" aria-hidden="true" tabindex="-1"></a>           <span class="fu">axislegend</span>(; position <span class="op">=</span> <span class="op">:</span>lb, nbanks <span class="op">=</span> <span class="fl">1</span>, framecolor <span class="op">=</span> (<span class="op">:</span>gray, <span class="fl">0.5</span>))</span>
<span id="cb20-57"><a href="#cb20-57" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">1</span>, <span class="fl">2</span>],</span>
<span id="cb20-58"><a href="#cb20-58" aria-hidden="true" tabindex="-1"></a>    xlabel <span class="op">=</span> <span class="st">"Period "</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb20-59"><a href="#cb20-59" aria-hidden="true" tabindex="-1"></a>    title <span class="op">=</span> <span class="st">"Markup"</span>,</span>
<span id="cb20-60"><a href="#cb20-60" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-61"><a href="#cb20-61" aria-hidden="true" tabindex="-1"></a> <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], μsdH, label<span class="op">=</span><span class="st">"Automation (baseline)"</span>)</span>
<span id="cb20-62"><a href="#cb20-62" aria-hidden="true" tabindex="-1"></a>          <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], μsdH90, label<span class="op">=</span><span class="st">"Automation (90th)"</span>)</span>
<span id="cb20-63"><a href="#cb20-63" aria-hidden="true" tabindex="-1"></a>       <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(μsd2H,<span class="fl">1000</span>), label<span class="op">=</span><span class="st">"Auto. and inst. (90th)"</span>)</span>
<span id="cb20-64"><a href="#cb20-64" aria-hidden="true" tabindex="-1"></a>       <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(μsd2H90,<span class="fl">1000</span>), label<span class="op">=</span><span class="st">"Auto. and inst. (90th)"</span>)</span>
<span id="cb20-65"><a href="#cb20-65" aria-hidden="true" tabindex="-1"></a>  ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">2</span>, <span class="fl">1</span>],</span>
<span id="cb20-66"><a href="#cb20-66" aria-hidden="true" tabindex="-1"></a>  xlabel <span class="op">=</span> <span class="st">"Period "</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb20-67"><a href="#cb20-67" aria-hidden="true" tabindex="-1"></a>  title <span class="op">=</span> <span class="st">"Capital-output ratio"</span>,</span>
<span id="cb20-68"><a href="#cb20-68" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-69"><a href="#cb20-69" aria-hidden="true" tabindex="-1"></a><span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], kysdH<span class="op">./</span><span class="fl">12</span>)</span>
<span id="cb20-70"><a href="#cb20-70" aria-hidden="true" tabindex="-1"></a><span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], kysdH90<span class="op">./</span><span class="fl">12</span>)</span>
<span id="cb20-71"><a href="#cb20-71" aria-hidden="true" tabindex="-1"></a>       <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], kysd2H<span class="op">./</span><span class="fl">12</span>)</span>
<span id="cb20-72"><a href="#cb20-72" aria-hidden="true" tabindex="-1"></a>           <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], kysd2H90<span class="op">./</span><span class="fl">12</span>)</span>
<span id="cb20-73"><a href="#cb20-73" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> <span class="fu">Axis</span>(f[<span class="fl">2</span>, <span class="fl">2</span>],</span>
<span id="cb20-74"><a href="#cb20-74" aria-hidden="true" tabindex="-1"></a>xlabel <span class="op">=</span> <span class="st">"Period"</span>,xgridstyle <span class="op">=</span> <span class="op">:</span>dash, ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb20-75"><a href="#cb20-75" aria-hidden="true" tabindex="-1"></a>title <span class="op">=</span> <span class="st">"Equilibrium Unemployment"</span>,</span>
<span id="cb20-76"><a href="#cb20-76" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-77"><a href="#cb20-77" aria-hidden="true" tabindex="-1"></a> <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], UsdH)</span>
<span id="cb20-78"><a href="#cb20-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], UsdH90)</span>
<span id="cb20-79"><a href="#cb20-79" aria-hidden="true" tabindex="-1"></a>       <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(Usd2H,<span class="fl">1000</span>))</span>
<span id="cb20-80"><a href="#cb20-80" aria-hidden="true" tabindex="-1"></a>         <span class="fu">lines!</span>(ax, time_annual[<span class="fl">16</span><span class="op">:</span><span class="kw">end</span>], <span class="fu">HP</span>(Usd2H90,<span class="fl">1000</span>))</span>
<span id="cb20-81"><a href="#cb20-81" aria-hidden="true" tabindex="-1"></a>    f</span>
<span id="cb20-82"><a href="#cb20-82" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb20-83"><a href="#cb20-83" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<div>
<figure class="figure">
<p><img src="main_APP_code_files/figure-html/cell-16-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="automation-data-in-mann2021benign" class="level2">
<h2 class="anchored" data-anchor-id="automation-data-in-mann2021benign">Automation data in <span class="citation" data-cites="mann2021benign">Mann and Püttmann (<a href="#ref-mann2021benign" role="doc-biblioref">2023</a>)</span></h2>
<p>I complete the Online Appendix with the data of the automation measure in <span class="citation" data-cites="mann2021benign">Mann and Püttmann (<a href="#ref-mann2021benign" role="doc-biblioref">2023</a>)</span>. The results in the figure below show that all automation variables are strongly correlated, though the measure in <span class="citation" data-cites="mann2021benign">Mann and Püttmann (<a href="#ref-mann2021benign" role="doc-biblioref">2023</a>)</span> has a smaller slope, meaning that automation in this case will be less significant than before.</p>
<div id="32" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>MechMann<span class="op">=</span>automation_mann <span class="co"># data  1974-2008</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>Xmech<span class="op">=</span>[<span class="fu">ones</span>(<span class="fl">35</span>) MechMann]</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>M̂Mann <span class="op">=</span> <span class="fu">Xmech*</span>(<span class="fu">inv</span>(Xmech<span class="op">'</span>Xmech)<span class="fu">*</span>(Xmech<span class="op">'</span>mm[<span class="fl">27</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">9</span>]))</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>mM̂Mann<span class="op">=-</span>M̂Mann<span class="op">.+</span><span class="fl">1</span>;</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>M̂<span class="fl">90</span>[<span class="fl">11</span><span class="op">:</span><span class="kw">end</span>]</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> <span class="fu">with_theme</span>(<span class="fu">theme_latexfonts</span>()) <span class="cf">do</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> <span class="fu">Figure</span>(size <span class="op">=</span> (<span class="fl">450</span>, <span class="fl">300</span>))</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> <span class="fu">Axis</span>(fig[<span class="fl">1</span>, <span class="fl">1</span>],</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>        xlabel <span class="op">=</span> <span class="st">"Empirical Automation (90th percentile)"</span>,</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>        xgridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>        ygridstyle <span class="op">=</span> <span class="op">:</span>dash,</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>        ylabel <span class="op">=</span> <span class="st">"Theoretical measures"</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scatter!</span>(ax, Mech90[<span class="fl">1</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">7</span>], M̂<span class="fl">90</span>, label<span class="op">=</span><span class="st">"90th percentile"</span>)</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scatter!</span>(ax, Mech[<span class="fl">1</span><span class="op">:</span><span class="kw">end</span><span class="op">-</span><span class="fl">7</span>], M̂<span class="fl">90</span>, label<span class="op">=</span><span class="st">"95th percentile"</span>)</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scatter!</span>(ax, MechMann, M̂<span class="fl">90</span>[<span class="fl">12</span><span class="op">:</span><span class="kw">end</span>], label<span class="op">=</span><span class="st">"Mann and Püttmann (2023)"</span>)</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">Legend</span>(fig[<span class="fl">2</span>, <span class="fl">1</span>], ax; orientation <span class="op">=</span> <span class="op">:</span>horizontal,labelsize <span class="op">=</span> <span class="fl">8</span>)</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>    fig  <span class="co"># &lt;-- return the figure explicitly!</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a><span class="fu">display</span>(f)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_APP_code_files/figure-html/cell-17-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>CairoMakie.Screen{PDF}</code></pre>
</div>
</div>

</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-basu2013dynamics" class="csl-entry" role="listitem">
Basu, Deepankar, and Duncan K Foley. 2013. <span>“Dynamics of Output and Employment in the US Economy.”</span> <em>Cambridge Journal of Economics</em> 37 (5): 1077–1106. https://doi.org/<a href="https://doi.org/10.1093/cje/bes088">https://doi.org/10.1093/cje/bes088</a>.
</div>
<div id="ref-eldridge2020toward" class="csl-entry" role="listitem">
Eldridge, Lucy P, Corby Garner, Thomas F Howells, Brian C Moyer, Matthew Russell, Jon D Samuels, Erich H Strassner, and David B Wasshausen. 2020. <span>“Toward a Bea-Bls Integrated Industry-Level Production Account for 1947–2016.”</span> In <em>Measuring Economic Growth and Productivity</em>, 221–49. Elsevier. <a href="https://doi.org/10.1016/B978-0-12-817596-5.00011-1">https://doi.org/10.1016/B978-0-12-817596-5.00011-1</a>.
</div>
<div id="ref-hemous2025induced" class="csl-entry" role="listitem">
Hémous, David, Morten Olsen, Carlo Zanella, and Antoine Dechezleprêtre. 2025. <span>“Induced Automation Innovation: Evidence from Firm-Level Patent Data.”</span> <em>Journal of Political Economy</em> 113 (6): 1975–2028. https://doi.org/<a href="https://doi.org/10.1086/734778">https://doi.org/10.1086/734778</a>.
</div>
<div id="ref-mann2021benign" class="csl-entry" role="listitem">
Mann, Katja, and Lukas Püttmann. 2023. <span>“Benign Effects of Automation: New Evidence from Patent Texts.”</span> <em>Review of Economics and Statistics</em> 105 (3): 562–79. https://doi.org/<a href="https://doi.org/0.1162/rest_a_01083">https://doi.org/0.1162/rest_a_01083</a>.
</div>
<div id="ref-moffitt2015deserving" class="csl-entry" role="listitem">
Moffitt, Robert A. 2015. <span>“The Deserving Poor, the Family, and the US Welfare System.”</span> <em>Demography</em> 52 (3): 729–49.
</div>
<div id="ref-noble1997welfare" class="csl-entry" role="listitem">
Noble, Charles. 1997. <em>Welfare as We Knew It: A Political History of the American Welfare State</em>. Oxford: Oxford University Press.
</div>
<div id="ref-parolin2023inequality" class="csl-entry" role="listitem">
Parolin, Zachary, Matthew Desmond, and Christopher Wimer. 2023. <span>“Inequality Below the Poverty Line Since 1967: The Role of the US Welfare State.”</span> <em>American Sociological Review</em> 88 (5): 782–809.
</div>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>